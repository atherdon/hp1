(function(){var a=this,f=a._,h={},b=Array.prototype,d=Object.prototype,n=b.push,k=b.slice,o=b.concat,c=d.toString,e=d.hasOwnProperty,m=b.forEach,p=b.map,j=b.reduce,i=b.reduceRight,q=b.filter,l=b.every,v=b.some,B=b.indexOf,y=b.lastIndexOf,d=Array.isArray,G=Object.keys,H=Function.prototype.bind,g=function(a){if(a instanceof g)return a;if(!(this instanceof g))return new g(a);this._wrapped=a};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)exports=module.exports=g;exports._=
g}else a._=g;g.VERSION="1.5.2";var u=g.each=g.forEach=function(a,c,e){if(null!=a)if(m&&a.forEach===m)a.forEach(c,e);else if(a.length===+a.length)for(var d=0,i=a.length;d<i&&!(c.call(e,a[d],d,a)===h);d++);else for(var f=g.keys(a),d=0,i=f.length;d<i&&!(c.call(e,a[f[d]],f[d],a)===h);d++);};g.map=g.collect=function(a,c,e){var d=[];if(null==a)return d;if(p&&a.map===p)return a.map(c,e);u(a,function(a,C,i){d.push(c.call(e,a,C,i))});return d};g.reduce=g.foldl=g.inject=function(a,c,e,d){var i=2<arguments.length;
null==a&&(a=[]);if(j&&a.reduce===j)return d&&(c=g.bind(c,d)),i?a.reduce(c,e):a.reduce(c);u(a,function(a,C,f){i?e=c.call(d,e,a,C,f):(e=a,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return e};g.reduceRight=g.foldr=function(a,c,e,d){var f=2<arguments.length;null==a&&(a=[]);if(i&&a.reduceRight===i)return d&&(c=g.bind(c,d)),f?a.reduceRight(c,e):a.reduceRight(c);var m=a.length;if(m!==+m)var b=g.keys(a),m=b.length;u(a,function(i,o,j){o=b?b[--m]:--m;f?e=c.call(d,e,a[o],
o,j):(e=a[o],f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return e};g.find=g.detect=function(a,c,e){var d;z(a,function(a,i,C){if(c.call(e,a,i,C))return d=a,!0});return d};g.filter=g.select=function(a,c,e){var d=[];if(null==a)return d;if(q&&a.filter===q)return a.filter(c,e);u(a,function(a,i,C){c.call(e,a,i,C)&&d.push(a)});return d};g.reject=function(a,c,e){return g.filter(a,function(a,d,i){return!c.call(e,a,d,i)},e)};g.every=g.all=function(a,c,e){c||(c=g.identity);
var d=!0;if(null==a)return d;if(l&&a.every===l)return a.every(c,e);u(a,function(a,i,f){if(!(d=d&&c.call(e,a,i,f)))return h});return!!d};var z=g.some=g.any=function(a,c,e){c||(c=g.identity);var d=!1;if(null==a)return d;if(v&&a.some===v)return a.some(c,e);u(a,function(a,i,f){if(d||(d=c.call(e,a,i,f)))return h});return!!d};g.contains=g.include=function(a,c){return null==a?!1:B&&a.indexOf===B?-1!=a.indexOf(c):z(a,function(a){return a===c})};g.invoke=function(a,c){var e=k.call(arguments,2),d=g.isFunction(c);
return g.map(a,function(a){return(d?c:a[c]).apply(a,e)})};g.pluck=function(a,c){return g.map(a,function(a){return a[c]})};g.where=function(a,c,e){return g.isEmpty(c)?e?void 0:[]:g[e?"find":"filter"](a,function(a){for(var e in c)if(c[e]!==a[e])return!1;return!0})};g.findWhere=function(a,c){return g.where(a,c,!0)};g.max=function(a,c,e){if(!c&&g.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!c&&g.isEmpty(a))return-Infinity;var d={computed:-Infinity,value:-Infinity};u(a,function(a,
i,f){i=c?c.call(e,a,i,f):a;i>d.computed&&(d={value:a,computed:i})});return d.value};g.min=function(a,c,e){if(!c&&g.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!c&&g.isEmpty(a))return Infinity;var d={computed:Infinity,value:Infinity};u(a,function(a,i,f){i=c?c.call(e,a,i,f):a;i<d.computed&&(d={value:a,computed:i})});return d.value};g.shuffle=function(a){var c,e=0,d=[];u(a,function(a){c=g.random(e++);d[e-1]=d[c];d[c]=a});return d};g.sample=function(a,c,e){return 2>arguments.length||
e?a[g.random(a.length-1)]:g.shuffle(a).slice(0,Math.max(0,c))};var x=function(a){return g.isFunction(a)?a:function(c){return c[a]}};g.sortBy=function(a,c,e){var d=x(c);return g.pluck(g.map(a,function(a,c,i){return{value:a,index:c,criteria:d.call(e,a,c,i)}}).sort(function(a,c){var e=a.criteria,d=c.criteria;if(e!==d){if(e>d||void 0===e)return 1;if(e<d||void 0===d)return-1}return a.index-c.index}),"value")};var w=function(a){return function(c,e,d){var i={},f=null==e?g.identity:x(e);u(c,function(e,m){var b=
f.call(d,e,m,c);a(i,b,e)});return i}};g.groupBy=w(function(a,c,e){(g.has(a,c)?a[c]:a[c]=[]).push(e)});g.indexBy=w(function(a,c,e){a[c]=e});g.countBy=w(function(a,c){g.has(a,c)?a[c]++:a[c]=1});g.sortedIndex=function(a,c,e,d){for(var e=null==e?g.identity:x(e),c=e.call(d,c),i=0,f=a.length;i<f;){var m=i+f>>>1;e.call(d,a[m])<c?i=m+1:f=m}return i};g.toArray=function(a){return!a?[]:g.isArray(a)?k.call(a):a.length===+a.length?g.map(a,g.identity):g.values(a)};g.size=function(a){return null==a?0:a.length===
+a.length?a.length:g.keys(a).length};g.first=g.head=g.take=function(a,c,e){return null==a?void 0:null==c||e?a[0]:k.call(a,0,c)};g.initial=function(a,c,e){return k.call(a,0,a.length-(null==c||e?1:c))};g.last=function(a,c,e){return null==a?void 0:null==c||e?a[a.length-1]:k.call(a,Math.max(a.length-c,0))};g.rest=g.tail=g.drop=function(a,c,e){return k.call(a,null==c||e?1:c)};g.compact=function(a){return g.filter(a,g.identity)};var t=function(a,c,e){if(c&&g.every(a,g.isArray))return o.apply(e,a);u(a,function(a){g.isArray(a)||
g.isArguments(a)?c?n.apply(e,a):t(a,c,e):e.push(a)});return e};g.flatten=function(a,c){return t(a,c,[])};g.without=function(a){return g.difference(a,k.call(arguments,1))};g.uniq=g.unique=function(a,c,e,d){g.isFunction(c)&&(d=e,e=c,c=!1);var e=e?g.map(a,e,d):a,i=[],f=[];u(e,function(e,d){if(c?!d||f[f.length-1]!==e:!g.contains(f,e))f.push(e),i.push(a[d])});return i};g.union=function(){return g.uniq(g.flatten(arguments,!0))};g.intersection=function(a){var c=k.call(arguments,1);return g.filter(g.uniq(a),
function(a){return g.every(c,function(c){return 0<=g.indexOf(c,a)})})};g.difference=function(a){var c=o.apply(b,k.call(arguments,1));return g.filter(a,function(a){return!g.contains(c,a)})};g.zip=function(){for(var a=g.max(g.pluck(arguments,"length").concat(0)),c=Array(a),e=0;e<a;e++)c[e]=g.pluck(arguments,""+e);return c};g.object=function(a,c){if(null==a)return{};for(var e={},d=0,i=a.length;d<i;d++)c?e[a[d]]=c[d]:e[a[d][0]]=a[d][1];return e};g.indexOf=function(a,c,e){if(null==a)return-1;var d=0,i=
a.length;if(e)if("number"==typeof e)d=0>e?Math.max(0,i+e):e;else return d=g.sortedIndex(a,c),a[d]===c?d:-1;if(B&&a.indexOf===B)return a.indexOf(c,e);for(;d<i;d++)if(a[d]===c)return d;return-1};g.lastIndexOf=function(a,c,e){if(null==a)return-1;var d=null!=e;if(y&&a.lastIndexOf===y)return d?a.lastIndexOf(c,e):a.lastIndexOf(c);for(e=d?e:a.length;e--;)if(a[e]===c)return e;return-1};g.range=function(a,c,e){1>=arguments.length&&(c=a||0,a=0);for(var e=arguments[2]||1,d=Math.max(Math.ceil((c-a)/e),0),i=0,
f=Array(d);i<d;)f[i++]=a,a+=e;return f};var s=function(){};g.bind=function(a,c){var e,d;if(H&&a.bind===H)return H.apply(a,k.call(arguments,1));if(!g.isFunction(a))throw new TypeError;e=k.call(arguments,2);return d=function(){if(!(this instanceof d))return a.apply(c,e.concat(k.call(arguments)));s.prototype=a.prototype;var i=new s;s.prototype=null;var f=a.apply(i,e.concat(k.call(arguments)));return Object(f)===f?f:i}};g.partial=function(a){var c=k.call(arguments,1);return function(){return a.apply(this,
c.concat(k.call(arguments)))}};g.bindAll=function(a){var c=k.call(arguments,1);if(0===c.length)throw Error("bindAll must be passed function names");u(c,function(c){a[c]=g.bind(a[c],a)});return a};g.memoize=function(a,c){var e={};c||(c=g.identity);return function(){var d=c.apply(this,arguments);return g.has(e,d)?e[d]:e[d]=a.apply(this,arguments)}};g.delay=function(a,c){var e=k.call(arguments,2);return setTimeout(function(){return a.apply(null,e)},c)};g.defer=function(a){return g.delay.apply(g,[a,1].concat(k.call(arguments,
1)))};g.throttle=function(a,c,e){var d,i,f,m=null,b=0;e||(e={});var o=function(){b=!1===e.leading?0:new Date;m=null;f=a.apply(d,i)};return function(){var j=new Date;!b&&!1===e.leading&&(b=j);var p=c-(j-b);d=this;i=arguments;0>=p?(clearTimeout(m),m=null,b=j,f=a.apply(d,i)):!m&&!1!==e.trailing&&(m=setTimeout(o,p));return f}};g.debounce=function(a,c,e){var d,i,f,m,b;return function(){f=this;i=arguments;m=new Date;var o=function(){var j=new Date-m;j<c?d=setTimeout(o,c-j):(d=null,e||(b=a.apply(f,i)))},
j=e&&!d;d||(d=setTimeout(o,c));j&&(b=a.apply(f,i));return b}};g.once=function(a){var c=!1,e;return function(){if(c)return e;c=!0;e=a.apply(this,arguments);a=null;return e}};g.wrap=function(a,c){return function(){var e=[a];n.apply(e,arguments);return c.apply(this,e)}};g.compose=function(){var a=arguments;return function(){for(var c=arguments,e=a.length-1;0<=e;e--)c=[a[e].apply(this,c)];return c[0]}};g.after=function(a,c){return function(){if(1>--a)return c.apply(this,arguments)}};g.keys=G||function(a){if(a!==
Object(a))throw new TypeError("Invalid object");var c=[],e;for(e in a)g.has(a,e)&&c.push(e);return c};g.values=function(a){for(var c=g.keys(a),e=c.length,d=Array(e),i=0;i<e;i++)d[i]=a[c[i]];return d};g.pairs=function(a){for(var c=g.keys(a),e=c.length,d=Array(e),i=0;i<e;i++)d[i]=[c[i],a[c[i]]];return d};g.invert=function(a){for(var c={},e=g.keys(a),d=0,i=e.length;d<i;d++)c[a[e[d]]]=e[d];return c};g.functions=g.methods=function(a){var c=[],e;for(e in a)g.isFunction(a[e])&&c.push(e);return c.sort()};
g.extend=function(a){u(k.call(arguments,1),function(c){if(c)for(var e in c)a[e]=c[e]});return a};g.pick=function(a){var c={},e=o.apply(b,k.call(arguments,1));u(e,function(e){e in a&&(c[e]=a[e])});return c};g.omit=function(a){var c={},e=o.apply(b,k.call(arguments,1)),d;for(d in a)g.contains(e,d)||(c[d]=a[d]);return c};g.defaults=function(a){u(k.call(arguments,1),function(c){if(c)for(var e in c)void 0===a[e]&&(a[e]=c[e])});return a};g.clone=function(a){return!g.isObject(a)?a:g.isArray(a)?a.slice():
g.extend({},a)};g.tap=function(a,c){c(a);return a};var A=function(a,e,d,i){if(a===e)return 0!==a||1/a==1/e;if(null==a||null==e)return a===e;if(a instanceof g)a=a._wrapped;if(e instanceof g)e=e._wrapped;var f=c.call(a);if(f!=c.call(e))return!1;switch(f){case "[object String]":return a==""+e;case "[object Number]":return a!=+a?e!=+e:0==a?1/a==1/e:a==+e;case "[object Date]":case "[object Boolean]":return+a==+e;case "[object RegExp]":return a.source==e.source&&a.global==e.global&&a.multiline==e.multiline&&
a.ignoreCase==e.ignoreCase}if("object"!=typeof a||"object"!=typeof e)return!1;for(var m=d.length;m--;)if(d[m]==a)return i[m]==e;var m=a.constructor,b=e.constructor;if(m!==b&&(!g.isFunction(m)||!(m instanceof m&&g.isFunction(b)&&b instanceof b)))return!1;d.push(a);i.push(e);m=0;b=!0;if("[object Array]"==f){if(m=a.length,b=m==e.length)for(;m--&&(b=A(a[m],e[m],d,i)););}else{for(var o in a)if(g.has(a,o)&&(m++,!(b=g.has(e,o)&&A(a[o],e[o],d,i))))break;if(b){for(o in e)if(g.has(e,o)&&!m--)break;b=!m}}d.pop();
i.pop();return b};g.isEqual=function(a,c){return A(a,c,[],[])};g.isEmpty=function(a){if(null==a)return!0;if(g.isArray(a)||g.isString(a))return 0===a.length;for(var c in a)if(g.has(a,c))return!1;return!0};g.isElement=function(a){return!!(a&&1===a.nodeType)};g.isArray=d||function(a){return"[object Array]"==c.call(a)};g.isObject=function(a){return a===Object(a)};u("Arguments,Function,String,Number,Date,RegExp".split(","),function(a){g["is"+a]=function(e){return c.call(e)=="[object "+a+"]"}});if(!g.isArguments(arguments))g.isArguments=
function(a){return!(!a||!g.has(a,"callee"))};if("function"!==typeof/./)g.isFunction=function(a){return"function"===typeof a};g.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};g.isNaN=function(a){return g.isNumber(a)&&a!=+a};g.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==c.call(a)};g.isNull=function(a){return null===a};g.isUndefined=function(a){return void 0===a};g.has=function(a,c){return e.call(a,c)};g.noConflict=function(){a._=f;return this};g.identity=function(a){return a};
g.times=function(a,c,e){for(var d=Array(Math.max(0,a)),i=0;i<a;i++)d[i]=c.call(e,i);return d};g.random=function(a,c){null==c&&(c=a,a=0);return a+Math.floor(Math.random()*(c-a+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};D.unescape=g.invert(D.escape);var I={escape:RegExp("["+g.keys(D.escape).join("")+"]","g"),unescape:RegExp("("+g.keys(D.unescape).join("|")+")","g")};g.each(["escape","unescape"],function(a){g[a]=function(c){return null==c?"":(""+c).replace(I[a],
function(c){return D[a][c]})}});g.result=function(a,c){if(null!=a){var e=a[c];return g.isFunction(e)?e.call(a):e}};g.mixin=function(a){u(g.functions(a),function(c){var e=g[c]=a[c];g.prototype[c]=function(){var a=[this._wrapped];n.apply(a,arguments);a=e.apply(g,a);return this._chain?g(a).chain():a}})};var J=0;g.uniqueId=function(a){var c=++J+"";return a?a+c:c};g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,F={"'":"'","\\":"\\",
"\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;g.template=function(a,c,e){var d,e=g.defaults({},e,g.templateSettings),i=RegExp([(e.escape||E).source,(e.interpolate||E).source,(e.evaluate||E).source].join("|")+"|$","g"),f=0,m="__p+='";a.replace(i,function(c,e,d,i,b){m+=a.slice(f,b).replace(K,function(a){return"\\"+F[a]});e&&(m+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'");d&&(m+="'+\n((__t=("+d+"))==null?'':__t)+\n'");i&&(m+="';\n"+i+"\n__p+='");
f=b+c.length;return c});m+="';\n";e.variable||(m="with(obj||{}){\n"+m+"}\n");m="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+m+"return __p;\n";try{d=new Function(e.variable||"obj","_",m)}catch(b){throw b.source=m,b;}if(c)return d(c,g);c=function(a){return d.call(this,a,g)};c.source="function("+(e.variable||"obj")+"){\n"+m+"}";return c};g.chain=function(a){return g(a).chain()};g.mixin(g);u("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var c=
b[a];g.prototype[a]=function(){var e=this._wrapped;c.apply(e,arguments);("shift"==a||"splice"==a)&&0===e.length&&delete e[0];return this._chain?g(e).chain():e}});u(["concat","join","slice"],function(a){var c=b[a];g.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?g(a).chain():a}});g.extend(g.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);(function(a,f){var h=f.prototype.trim,b=f.prototype.trimRight,d=f.prototype.trimLeft,n=function(a,c){if(1>c)return"";for(var e="";0<c;)c&1&&(e+=a),c>>=1,a+=a;return e},k=[].slice,o=function(a){return null==a?"\\s":a.source?a.source:"["+j.escapeRegExp(a)+"]"},c={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},e={},m;for(m in c)e[c[m]]=m;var p=function(){function a(c){return Object.prototype.toString.call(c).slice(8,-1).toLowerCase()}var c=function(){c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=
c.parse(arguments[0]));return c.format.call(null,c.cache[arguments[0]],arguments)};c.format=function(c,e){var d=1,m=c.length,b="",o=[],j,q,k,h;for(j=0;j<m;j++)if(b=a(c[j]),"string"===b)o.push(c[j]);else if("array"===b){k=c[j];if(k[2]){b=e[d];for(q=0;q<k[2].length;q++){if(!b.hasOwnProperty(k[2][q]))throw Error(p('[_.sprintf] property "%s" does not exist',k[2][q]));b=b[k[2][q]]}}else b=k[1]?e[k[1]]:e[d++];if(/[^s]/.test(k[8])&&"number"!=a(b))throw Error(p("[_.sprintf] expecting number but found %s",
a(b)));switch(k[8]){case "b":b=b.toString(2);break;case "c":b=f.fromCharCode(b);break;case "d":b=parseInt(b,10);break;case "e":b=k[7]?b.toExponential(k[7]):b.toExponential();break;case "f":b=k[7]?parseFloat(b).toFixed(k[7]):parseFloat(b);break;case "o":b=b.toString(8);break;case "s":b=(b=f(b))&&k[7]?b.substring(0,k[7]):b;break;case "u":b=Math.abs(b);break;case "x":b=b.toString(16);break;case "X":b=b.toString(16).toUpperCase()}b=/[def]/.test(k[8])&&k[3]&&0<=b?"+"+b:b;q=k[4]?"0"==k[4]?"0":k[4].charAt(1):
" ";h=k[6]-f(b).length;q=k[6]?n(q,h):"";o.push(k[5]?b+q:q+b)}return o.join("")};c.cache={};c.parse=function(a){for(var c=[],e=[],d=0;a;){if(null!==(c=/^[^\x25]+/.exec(a)))e.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(a)))e.push("%");else if(null!==(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(c[2]){var d=d|1,i=[],b=c[2],m=[];if(null!==(m=/^([a-z_][a-z_\d]*)/i.exec(b)))for(i.push(m[1]);""!==(b=b.substring(m[0].length));)if(null!==(m=/^\.([a-z_][a-z_\d]*)/i.exec(b)))i.push(m[1]);
else if(null!==(m=/^\[(\d+)\]/.exec(b)))i.push(m[1]);else throw Error("[_.sprintf] huh?");else throw Error("[_.sprintf] huh?");c[2]=i}else d|=2;if(3===d)throw Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");e.push(c)}else throw Error("[_.sprintf] huh?");a=a.substring(c[0].length)}return e};return c}(),j={VERSION:"2.3.0",isBlank:function(a){null==a&&(a="");return/^\s*$/.test(a)},stripTags:function(a){return null==a?"":f(a).replace(/<\/?[^>]+>/g,"")},capitalize:function(a){a=
null==a?"":f(a);return a.charAt(0).toUpperCase()+a.slice(1)},chop:function(a,c){if(null==a)return[];a=f(a);c=~~c;return 0<c?a.match(RegExp(".{1,"+c+"}","g")):[a]},clean:function(a){return j.strip(a).replace(/\s+/g," ")},count:function(a,c){return null==a||null==c?0:f(a).split(c).length-1},chars:function(a){return null==a?[]:f(a).split("")},swapCase:function(a){return null==a?"":f(a).replace(/\S/g,function(a){return a===a.toUpperCase()?a.toLowerCase():a.toUpperCase()})},escapeHTML:function(a){return null==
a?"":f(a).replace(/[&<>"']/g,function(a){return"&"+e[a]+";"})},unescapeHTML:function(a){return null==a?"":f(a).replace(/\&([^;]+);/g,function(a,e){var d;return e in c?c[e]:(d=e.match(/^#x([\da-fA-F]+)$/))?f.fromCharCode(parseInt(d[1],16)):(d=e.match(/^#(\d+)$/))?f.fromCharCode(~~d[1]):a})},escapeRegExp:function(a){return null==a?"":f(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(a,c,e,d){a=j.chars(a);a.splice(~~c,~~e,d);return a.join("")},insert:function(a,c,e){return j.splice(a,
c,0,e)},include:function(a,c){return""===c?!0:null==a?!1:-1!==f(a).indexOf(c)},join:function(){var a=k.call(arguments),c=a.shift();null==c&&(c="");return a.join(c)},lines:function(a){return null==a?[]:f(a).split("\n")},reverse:function(a){return j.chars(a).reverse().join("")},startsWith:function(a,c){if(""===c)return!0;if(null==a||null==c)return!1;a=f(a);c=f(c);return a.length>=c.length&&a.slice(0,c.length)===c},endsWith:function(a,c){if(""===c)return!0;if(null==a||null==c)return!1;a=f(a);c=f(c);
return a.length>=c.length&&a.slice(a.length-c.length)===c},succ:function(a){if(null==a)return"";a=f(a);return a.slice(0,-1)+f.fromCharCode(a.charCodeAt(a.length-1)+1)},titleize:function(a){return null==a?"":f(a).replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})},camelize:function(a){return j.trim(a).replace(/[-_\s]+(.)?/g,function(a,c){return c.toUpperCase()})},underscored:function(a){return j.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(a){return j.trim(a).replace(/([A-Z])/g,
"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(a){return j.titleize(f(a).replace(/_/g," ")).replace(/\s/g,"")},humanize:function(a){return j.capitalize(j.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:function(a,c){if(null==a)return"";if(!c&&h)return h.call(a);c=o(c);return f(a).replace(RegExp("^"+c+"+|"+c+"+$","g"),"")},ltrim:function(a,c){if(null==a)return"";if(!c&&d)return d.call(a);c=o(c);return f(a).replace(RegExp("^"+c+"+"),"")},rtrim:function(a,c){if(null==a)return"";
if(!c&&b)return b.call(a);c=o(c);return f(a).replace(RegExp(c+"+$"),"")},truncate:function(a,c,e){if(null==a)return"";a=f(a);c=~~c;return a.length>c?a.slice(0,c)+(e||"..."):a},prune:function(a,c,e){if(null==a)return"";a=f(a);c=~~c;e=null!=e?f(e):"...";if(a.length<=c)return a;c=a.slice(0,c+1).replace(/.(?=\W*\w*$)/g,function(a){return a.toUpperCase()!==a.toLowerCase()?"A":" "});c=c.slice(c.length-2).match(/\w\w/)?c.replace(/\s*\S+$/,""):j.rtrim(c.slice(0,c.length-1));return(c+e).length>a.length?a:
a.slice(0,c.length)+e},words:function(a,c){return j.isBlank(a)?[]:j.trim(a,c).split(c||/\s+/)},pad:function(a,c,e,d){var a=null==a?"":f(a),c=~~c,b=0;e?1<e.length&&(e=e.charAt(0)):e=" ";switch(d){case "right":return b=c-a.length,a+n(e,b);case "both":return b=c-a.length,n(e,Math.ceil(b/2))+a+n(e,Math.floor(b/2));default:return b=c-a.length,n(e,b)+a}},lpad:function(a,c,e){return j.pad(a,c,e)},rpad:function(a,c,e){return j.pad(a,c,e,"right")},lrpad:function(a,c,e){return j.pad(a,c,e,"both")},sprintf:p,
vsprintf:function(a,c){c.unshift(a);return p.apply(null,c)},toNumber:function(a,c){if(null==a||""==a)return 0;var a=f(a),e;e=1*(1*a||0).toFixed(~~c)||0;return 0===e&&!a.match(/^0+$/)?Number.NaN:e},numberFormat:function(a,c,e,d){if(isNaN(a)||null==a)return"";a=a.toFixed(~~c);d=d||",";a=a.split(".");e=a[1]?(e||".")+a[1]:"";return a[0].replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+d)+e},strRight:function(a,c){if(null==a)return"";var a=f(a),c=null!=c?f(c):c,e=!c?-1:a.indexOf(c);return~e?a.slice(e+c.length,a.length):
a},strRightBack:function(a,c){if(null==a)return"";var a=f(a),c=null!=c?f(c):c,e=!c?-1:a.lastIndexOf(c);return~e?a.slice(e+c.length,a.length):a},strLeft:function(a,c){if(null==a)return"";var a=f(a),c=null!=c?f(c):c,e=!c?-1:a.indexOf(c);return~e?a.slice(0,e):a},strLeftBack:function(a,c){if(null==a)return"";var a=a+"",e=a.lastIndexOf(null!=c?""+c:c);return~e?a.slice(0,e):a},toSentence:function(a,c,e,d){var c=c||", ",e=e||" and ",b=a.slice(),m=b.pop();2<a.length&&d&&(e=j.rtrim(c)+e);return b.length?b.join(c)+
e+m:m},toSentenceSerial:function(){var a=k.call(arguments);a[3]=!0;return j.toSentence.apply(j,a)},slugify:function(a){if(null==a)return"";var c=RegExp(o("\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a"),"g"),a=f(a).toLowerCase().replace(c,function(a){return"aaaaaaaaceeeeeiiiilnoooooouuuunczz".charAt("\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a".indexOf(a))||
"-"});return j.dasherize(a.replace(/[^\w\s-]/g,""))},surround:function(a,c){return[c,a,c].join("")},quote:function(a){return j.surround(a,'"')},exports:function(){var a={},c;for(c in this)this.hasOwnProperty(c)&&!c.match(/^(?:include|contains|reverse)$/)&&(a[c]=this[c]);return a},repeat:function(a,c,e){if(null==a)return"";c=~~c;if(null==e)return n(f(a),c);for(var d=[];0<c;d[--c]=a);return d.join(e)},levenshtein:function(a,c){if(null==a&&null==c)return 0;if(null==a)return f(c).length;if(null==c)return f(a).length;
for(var a=f(a),c=f(c),e=[],d,b,m=0;m<=c.length;m++)for(var o=0;o<=a.length;o++)b=m&&o?a.charAt(o-1)===c.charAt(m-1)?d:Math.min(e[o],e[o-1],d)+1:m+o,d=e[o],e[o]=b;return e.pop()}};j.strip=j.trim;j.lstrip=j.ltrim;j.rstrip=j.rtrim;j.center=j.lrpad;j.rjust=j.lpad;j.ljust=j.rpad;j.contains=j.include;j.q=j.quote;if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)module.exports=j;exports._s=j}else"function"===typeof define&&define.amd?define("underscore.string",[],function(){return j}):
(a._=a._||{},a._.string=a._.str=j)}).call(this,this,String);_.mixin(_.string.exports());
_.mixin({includes:_.str.include,inherit:function(a,f){a.prototype=new f;a.prototype.constructor=a;a.superclass=f.prototype;return a},deep_diff:function(a,f){var h={};_.each(a,function(a,d){_.isUndefined(f)?h[d]=a:f[d]!==a&&(h[d]=_.isObject(a)?_.deep_diff(a,f[d]):a)});return h},reject:function(a,f,h){if(_.isNumber(a.length)){var b=[];if(null==a)return b;_.each(a,function(a,n,k){f.call(h,a,n,k)||(b[b.length]=a)})}else{b={};if(null==a)return b;_.each(a,function(a,n,k){f.call(h,a,n,k)||(b[n]=a)})}return b},
group:function(a,f,h){return _.reduce(a,function(a,d){var n=f.call(h,d);n in a?a[n].push(d):a[n]=[d];return a},{},h)},partition:function(a,f,h){h&&(f=_.bind(f,h));var b=[],d=[];_.each(a,function(a,k,o){(f(a,k,o)?b:d).push(a)});return[b,d]},bundle:function(a,f,h){f=f||function(a,d){return a===d};return _.reduce(a,function(a,d){var n=a[a.length-1],k=n[0];void 0!==k&&null!==k?f.call(h,k,d)?n.push(d):a.push([d]):n.push(d);return a},[[]])},uniq2:function(a,f,h){return _.reduce(a,function(a,d,n){if(0==
n||!_.any(a,function(a){if(f.call(h,a,d))return!0}))a[a.length]=d;return a},[])},choice:function(a){var f=Math.floor(Math.random()*a.length);return a[f]},namespace:function(a,f){var f=f||function(){return{}},h=a.split("."),b=window;_.each(h,function(a){void 0===b[a]&&(b[a]={});b=b[a]});_.extend(b,f(b))},decode_html:function(a){var f=document.createElement("div");f.innerHTML=a;return 0===f.childNodes.length?"":f.childNodes[0].nodeValue},obj_diff:function(a,f){var h={};_.each(a,function(a,d){if(!Object.prototype.hasOwnProperty.call(f,
d)||a!==f[d])h[d]=a});return h},sum:function(a){var f=0;_.each(a,function(a){f+=a});return f},mean:function(a){return a&&a.length?_.sum(a)/a.length:0}});var WidgetCSS={already_inserted:{},gradient:function(a,f,h,b){a.background=[];void 0!==b&&a.background.push(b);a.background=a.background.concat([(b?b+",":"")+"-webkit-gradient(linear, left top, left bottom, from("+f+"), to("+h+"))",(b?b+",":"")+"-moz-linear-gradient(top, "+f+", "+h+")"]);a.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr="'+f+'", endColorstr="'+h+'")';return a},gradient_horizontal:function(a,f,h,b){a.background=[];void 0!==b&&a.background.push(b);a.background=a.background.concat([(b?
b+",":"")+"-webkit-gradient(linear, left top, right top, from("+f+"), to("+h+"))",(b?b+",":"")+"-moz-linear-gradient(left, "+f+", "+h+")"]);a.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr="'+f+'", endColorstr="'+h+'", GradientType=1)';return a},xbrowser:function(a,f,h){_.each(["","-moz-","-webkit-","-khtml-","-o-"],function(b){a[b+f]=h})},custom_button:function(a){_.each({cursor:"pointer","line-height":"normal !important",border:"0",outline:"0","background-color":"transparent"},
function(f,h){h in a||(a[h]=f)})},rounded:function(a,f){for(var h=f.split(" ");4>h.length;)h.push("0px");_.each(_.zip(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],h),function(b){WidgetCSS.xbrowser(a,b[0],b[1])})},generate:function(a,f,h){var b=[];$("#widget_css").length||$("head").append('<style type="text/css" id="widget_css"></style>');h in WidgetCSS.already_inserted||(_.each(a,function(a,n){var k;"_container"===n&&(n="");k=n==f.class_name?
"."+n:n.length&&"^"==n[0]?"."+f.class_name+n.slice(1):"."+f.class_name+" "+n;k+=" {";_.each(a,function(a,c){_.isArray(a)?_.each(a,function(a){k+=c+": "+a+";\n"}):k+=c+": "+a+";\n"});k+="}";b.push(k)}),$("#widget_css").append(b.join("\n")),WidgetCSS.already_inserted[h]=!0)}};function JSWidget(){this.class_name="js_widget";this.defer_style=!1}
JSWidget.prototype.create=function(a){this.container=a?$(a):$("<div>");this.container.attr("id")?this.id=this.container.attr("id"):(this.id="jswidget_"+Math.floor(1E9*Math.random()),this.container.attr("id",this.id));this.container.addClass(this.class_name);this.defer_style||this.style();return this};JSWidget.prototype.remove=function(){this.container.trigger("remove_item",[this]);this.container.remove()};
JSWidget.prototype.val=function(){return void 0!==this.value?this.value:void 0!==this.container.attr("val")?this.container.attr("val"):null};JSWidget.prototype.styles=function(){};JSWidget.prototype.style=function(){if(!window.DISABLE_JSWIDGET_STYLES){var a=this.class_name+"_style",f=this.styles();f&&WidgetCSS.generate(f,this,a)}};JSWidget.prototype.init=function(){};var JSWidgetList=function(){this.class_name="js_widget_list"};_.inherit(JSWidgetList,JSWidget);
JSWidgetList.prototype.create=function(a){JSWidgetList.superclass.create.call(this,a);this.widgets=[];return this};JSWidgetList.prototype.append=function(a,f,h){this.widgets.push(a);void 0!==h?h.html(a.container):h=a.container;(f||this.appendTo||this.container).append(h)};JSWidgetList.prototype.replace=function(a,f){var h=_.indexOf(this.widgets,a);-1<h&&(f.container.insertBefore(a.container),a.container.remove(),this.widgets[h]=f);return-1<h};
JSWidgetList.prototype.clear=function(){(this.appendTo||this.container).html("");this.widgets=[]};JSWidgetList.prototype.remove_item=function(a){a=_.indexOf(this.widgets,a);-1<a&&this.widgets.splice(a,1)[0].container.remove();return-1<a};JSWidgetList.prototype.sort=function(a,f){this.widgets=this.widgets.sort(function(f,b){f=a(f);b=a(b);return f<b?-1:f>b?1:0});if(f)this.widgets=this.widgets.reverse();_.each(this.widgets,function(a){this.appendTo.append(a.container)},this)};
JSWidgetList.prototype.at=function(a){return this.widgets[a]};JSWidgetList.prototype.each=function(a,f){_.each(this.widgets,a,f)};JSWidgetList.prototype.map=function(a,f){return _.map(this.widgets,a,f)};JSWidgetList.prototype.find=function(a,f){return _.find(this.widgets,a,f)};JSWidgetList.prototype.filter=function(a,f){return _.filter(this.widgets,a,f)};JSWidgetList.prototype.count=function(){return this.widgets.length};
JSWidgetList.prototype.insert=function(a,f){if(_.isUndefined(f))throw"position is a required argument";if(f>this.widgets.length||0>f)throw"invalid position: "+f;0===f?0===this.widgets.length?this.append(a):(a.container.insertBefore(this.widgets[0].container),this.widgets=[a].concat(this.widgets)):(a.container.insertAfter(this.widgets[f-1].container),this.widgets.splice(f,0,a))};JSWidgetList.prototype.indexOf=function(a){return _.indexOf(this.widgets,a)};
JSWidgetList.prototype.bindings=function(){var a=this;this.container.bind("remove_item",function(f,h){f.stopPropagation();a.remove_item(h)})};var Badge=function(a,f,h){this.class_name="badge_container";this.default_options={from:"partner",switcher:!0};this.create(a,f,h)};_.inherit(Badge,JSWidget);
Badge.prototype.create=function(a,f,h){Badge.superclass.create.call(this,a);this.callback=h||function(){};this.options=_.extend(this.default_options,f);this.url="http://mixpanel.com/f/"+this.options.from;this.root_path="/site_media/images/partner";this.blue=this.root_path+"/badge_blue.png";this.light=this.root_path+"/badge_light.png";this.blue_text="Get blue version";this.light_text="Get light version";this.type=0;this.img=$("<img>");this.toggle=$("<div>").addClass("toggle");this.container.append(this.img);
this.options.switcher&&this.container.append(this.toggle);this.set_type(this.type);this.bindings();return this};Badge.prototype.get_html=function(a){return['<a href="',this.url,'"><img src="http://mixpanel.com',a,'" alt="Mobile Analytics" /></a>'].join("")};
Badge.prototype.set_type=function(a){this.type=a;0==this.type?(this.img.attr("src",this.blue),this.toggle.text(this.light_text),this.callback(this.blue,this.get_html(this.blue))):1==this.type&&(this.img.attr("src",this.light),this.toggle.text(this.blue_text),this.callback(this.light,this.get_html(this.light)))};Badge.prototype.bindings=function(){var a=this;this.toggle.click(function(){a.type=0==a.type?1:0;a.set_type(a.type)})};
Badge.prototype.styles=function(){return{"":{display:"inline-block",position:"relative"},".toggle":{"font-size":"9px",color:"#41658C",cursor:"pointer","margin-left":"8px"}}};_.namespace("mp.widgets",function(){function a(){this.label_class=f;this.body_class=h}function f(){this.disabled=!1}function h(){this.item_class=b;this.disabled=!1;this.prev_item=this.comparator=void 0}function b(){this.selected=!1}_.inherit(a,JSWidget);a.prototype.create=function(d,b,f){a.superclass.create.call(this,d);this.config=_.extend(this.default_config(),f);this.default_label=this.container.html();this.label=(new this.label_class).create(null,this.config).select(this.default_label);this.body=
(new this.body_class).create(null,this.config);this.container.html("").append(this.label.container,this.body.container);this.body.fill(b).label_changed(null,this.label);this.bindings();this.config.select_first&&this.body.widgets.length&&this.select_item(this.body.widgets[0]);_.isUndefined(this.config.selected)||this.select_val(this.config.selected);return this};a.prototype.remove=function(){mp.utility.unbind_outside_event("click","base_dropdown");a.superclass.remove.call(this)};a.prototype.contains=
function(a){return void 0!==this.body.get_item_by_val(a)};a.prototype.deselect_all=function(){this.label.select(this.default_label);this.body.deselect_all()};a.prototype.default_config=function(){return{select_first:!1,emulate_select:!1,menu:!1,collapse:!1,min_width:130}};a.prototype.enable=function(){this.label.enable();this.body.enable()};a.prototype.disable=function(){this.label.disable();this.body.disable()};a.prototype.toggle_disabled=function(a){a?this.disable():this.enable()};a.prototype.activate=
function(){this.label.activate(!1);this.body.activate(!1,this.label)};a.prototype.deactivate=function(){this.label.deactivate(!1);this.body.deactivate(!1,this.label)};a.prototype.selected=function(){return this.label.val()};a.prototype.val=a.prototype.selected;a.prototype.select_item=function(a,b){if(a&&(!a.selected||this.config.menu))this.config.emulate_select&&this.label.select(a,b),this.body.select_item(a,b)};a.prototype.select_val=function(a,b){var f=this.body.get_item_by_val(a);return f?(this.select_item(f,
b),!0):!1};a.prototype.bindings=function(){this.label.container.bind("label-activated",_.bind(this.body.activate,this.body));this.label.container.bind("label-deactivated",_.bind(this.body.deactivate,this.body));this.body.container.bind("body-deactivated",_.bind(this.label.deactivate,this.label));mp.utility.bind_outside_event("click","base_dropdown",this.container,this.deactivate,this);this.body.container.bind("dropdown-item-selected",_.bind(this._item_selected,this));this.label.container.bind("label-changed",
_.bind(this.body.label_changed,this.body))};a.prototype.onchange=function(a){this.container.bind("item-selected",function(b,f,o){a(f,o)})};a.prototype.update=function(a){var b=this.val();this.body.fill(a);null!==b&&this.select_val(b,!0)};a.prototype.append_item=function(a){this.body.append_item(a)};a.prototype.entries=function(){return this.body.entries()};a.prototype._item_selected=function(a,b){this.select_item(b);this.deactivate(a)};_.inherit(f,JSWidget);f.prototype.create=function(a,b){f.superclass.create.call(this,
a);this.config=_.extend(this.default_config(),b);this.container.addClass("dropdown_label_widget");if(_.isUndefined(this.title))this.title=this.container;this.config.collapse||this.title.css("min-width",this.config.min_width);this.deactivate(!1);this.bindings();return this};f.prototype.default_config=function(){return{}};f.prototype.select=function(a,b){this.item=a;this.value="string"===typeof a?a:a.val();this._set_content(a);b||this.container.trigger("label-changed",this);return this};f.prototype._set_content=
function(a){a="string"===typeof a?a:a.title();this.config.raw_html_item_labels?this.title.html(a):this.title.text(a)};f.prototype.enable=function(){this.disabled=!1;this.container.removeClass("disabled")};f.prototype.disable=function(){this.disabled=!0;this.container.addClass("disabled")};f.prototype.activate=function(a){if(!this.disabled)this.active=!0,this.container.addClass("active"),a&&this.container.trigger("label-activated",this)};f.prototype.deactivate=function(a){if(!this.disabled&&this.active)this.active=
!1,this.container.removeClass("active"),a&&this.container.trigger("label-deactivated",this)};f.prototype.toggle_active=function(a){return this.active?this.deactivate(a):this.activate(a)};f.prototype.bindings=function(){this.container.mouseup(_.bind(this.toggle_active,this))};_.inherit(h,JSWidgetList);h.prototype.create=function(a,b){h.superclass.create.call(this,a);this.config=_.extend(this.default_config(),b);if(this.config.sortable)this.comparator=function(a){a=a.title().toLowerCase();isNaN(a)||
(a=parseFloat(a));return a};this.container.hide();this.deactivate(!1);this.bindings();this.container.addClass("dropdown_body_widget");return this};h.prototype.default_config=function(){return{sortable:!1}};h.prototype.bindings=function(){this.container.bind("item-removed",_.bind(this.remove_item,this))};h.prototype.label_changed=function(){};h.prototype.fill=function(a){this.clear();a=_(a).chain().map(function(a){return(new this.item_class).create(null,this.config).update(a)},this);this.config.sortable&&
(a=a.sortBy(this.comparator));a.each(function(a){this.append(a)},this);this.update_items();return this};h.prototype.append_item=function(a){this.append(a);this.update_items();return this};h.prototype.update_items=function(){_.each(this.widgets,function(a,b){0===b?a.container.addClass("first"):a.container.removeClass("first");b===this.widgets.length-1?a.container.addClass("last"):a.container.removeClass("last")},this)};h.prototype.remove_item=function(){var a=arguments[0];2===arguments.length&&(a=
arguments[1]);this.widgets=_.without(this.widgets,a);a.container.remove();this.update_items()};h.prototype.enable=function(){this.disabled=!1};h.prototype.disable=function(){this.disabled=!0};h.prototype.activate=function(a,b){if(!this.disabled)return this.active=!0,a&&this.container.trigger("body-activated"),this.label_changed(null,b),this.show(),this};h.prototype.show=function(){this.container.show();mp.utility.bind_esc(this.id,function(){this.deactivate(!1)},this)};h.prototype.deactivate=function(a){if(!this.disabled&&
this.active)return this.active=!1,a||this.container.trigger("body-deactivated"),this.hide(),this};h.prototype.hide=function(){this.container.hide();mp.utility.unbind_esc(this.id)};h.prototype.toggle_active=function(a){this.active?this.deactivate(a):this.activate(a)};h.prototype.selected=function(){return _.detect(this.widgets,function(a){return a.selected})};h.prototype.deselect_all=function(a){_.each(this.widgets,function(b){b!==a&&b.deselect()})};h.prototype.select_item=function(a,b){this.deselect_all(a);
a.select(!1);if(!b)this.container.trigger("item-selected",[a,this.prev_item]),this.prev_item=a};h.prototype.select_first=function(a){this.widgets.length&&this.select_item(this.widgets[0],a)};h.prototype.select_last=function(){this.widgets.length&&this.select_item(this.widgets[this.widgets.length-1])};h.prototype.select_next=function(a){var b=this.selected();_.isArray(b)||(b=_.indexOf(this.widgets,b),b<this.widgets.length-1&&this.select_item(this.widgets[b+1],a))};h.prototype.select_previous=function(a){var b=
this.selected();if(b){if(_.isArray(b))return}else b=this.widgets[this.widgets.length-1];b=_.indexOf(this.widgets,b);0<b&&this.select_item(this.widgets[b-1],a)};h.prototype.get_item_by_val=function(a){return _.detect(this.widgets,function(b){if(_.isEqual(b.val(),a))return!0})};_.inherit(b,JSWidget);b.prototype.create=function(a,f){b.superclass.create.call(this,a);this.enabled=!0;this.bindings();this.config=_.extend(this.default_config(),f);this.container.addClass("dropdown_item_widget");return this};
b.prototype.default_config=function(){return{}};b.prototype.bindings=function(){this.container.click(_.bind(this.select,this))};b.prototype.update=function(a){this._set_value(a);this._set_content(a);return this};b.prototype._set_value=function(a){this.value=_.isArray(a)?a[0]:a};b.prototype._set_content=function(a){this.display_value=_.isArray(a)?a[1]:a;this.config.raw_html_item_labels?this.container.html(this.display_value):this.container.text(this.display_value)};b.prototype.title=function(){return this.display_value};
b.prototype.enable=function(){var a=!this.enabled;this.enabled=!0;this.container.removeClass("disabled");return a};b.prototype.disable=function(){var a=this.enabled;this.enabled=!1;this.container.addClass("disabled");return a};b.prototype.select=function(a){this.enabled?(a&&(!this.selected||this.config.menu)&&this.container.trigger("dropdown-item-selected",this),this.selected=!0,this.container.addClass("selected")):a&&this.container.trigger("disabled-dropdown-item-selected",this)};b.prototype.deselect=
function(){var a=this.selected;this.selected=!1;this.container.removeClass("selected");return a};b.prototype.remove=function(){this.deselect();this.container.trigger("item-removed",this)};a.Label=f;a.Body=h;a.Item=b;return{Dropdown:a}});_.namespace("mp.widgets.styled_labels",function(){function a(){this.class_name="rounded_dropdown_label"}function f(){this.class_name="icon_textless_label"}_.inherit(a,mp.widgets.Dropdown.Label);a.prototype.create=function(f,b){this.title=$("<div>").addClass("title");this.arrow=$("<div>").addClass("arrow");a.superclass.create.call(this,f,b);this.container.append(this.title,this.arrow);return this};_.inherit(f,mp.widgets.Dropdown.Label);f.prototype.create=function(a,b){f.superclass.create.call(this,
a,b);this.icon=$("<div>").addClass("icon");this.arrow=$("<div>").addClass("arrow");this.container.append(this.icon,this.arrow);return this};f.prototype._set_content=function(a){this.icon.attr({"class":"icon "+a.value})};return{Rounded:a,IconTextless:f}});_.namespace("mp.widgets.dropdowns",function(){function a(){this.class_name="mp_checkbox_dropdown";this.label_class=f;this.body_class=h}function f(){}function h(){this.item_class=b}function b(){this.class_name="checkbox_dropdown_item"}_.inherit(a,mp.widgets.Dropdown);a.prototype.create=function(){a.superclass.create.apply(this,arguments);this.selected_items=[];this.update_width();return this};a.prototype.bindings=function(){a.superclass.bindings.call(this);this.container.bind("label-activated",_.bind(this.update_width,
this));this.body.container.bind("dropdown-item-deselected",_.bind(function(a,b){this.selected_items=_.without(this.selected_items,b);this.update_label();this.container.trigger("item-deselected",b)},this))};a.prototype.select_values=function(a,b){_.each(a,function(a){this.select_val(a,b)},this)};a.prototype.select_item=function(a,b){if(!a.selected||this.config.menu)this.selected_items.push(a),this.update_label(b),this.body.select_item(a,b)};a.prototype.update_label=function(a){this.config.emulate_select&&
this.label.select(this.selected_items,a);this.update_width()};a.prototype.update=function(a){this.body.fill(a)};a.prototype.update_width=function(){var a=this.label.container.width();this.body.container.css("width","auto");this.body.container.width()<a&&this.body.container.width(a)};a.prototype.default_config=function(){return _.extend(a.superclass.default_config.call(this),{emulate_select:!0})};a.prototype.deactivate=function(d){d&&"dropdown-item-selected"===d.type||a.superclass.deactivate.call(this)};
a.prototype.onchange=function(a){var b=this;this.container.bind("item-selected",function(){a(b.selected_items)});this.container.bind("item-deselected",function(){a(b.selected_items)})};a.prototype._item_selected=function(a,b){this.select_item(b)};_.inherit(f,mp.widgets.Dropdown.Label);f.prototype.select=function(a,b){this.value=_.isArray(a)?_.map(a,function(a){return a.val()}):[];if("string"===typeof a&&!this.default_title)this.default_title=a;this._set_content(a);b||this.container.trigger("label-changed",
this);return this};f.prototype._set_content=function(a){a=!_.isArray(a)||0===a.length?this.default_title:1===a.length?"string"===typeof a[0]?a[0]:a[0].title():a.length+" selected";f.superclass._set_content.call(this,a)};_.inherit(h,mp.widgets.Dropdown.Body);h.prototype.select_item=function(a,b){a.select(!1);b||this.container.trigger("item-selected",a)};_.inherit(b,mp.widgets.Dropdown.Item);b.prototype.default_config=function(){return{}};b.prototype.create=function(a,f){b.superclass.create.call(this,
a,f);this.content=$("<span>");this.container.append(this.content);return this};b.prototype._set_content=function(a){this.display_value=_.isArray(a)?a[1]:a;this.config.raw_html_item_labels?this.content.html(this.display_value):this.content.text(this.display_value);this.content.attr("title",this.title())};b.prototype.title=function(){return this.display_value};b.prototype.select=function(a){this.selected?this.deselect():b.superclass.select.call(this,a)};b.prototype.deselect=function(a){b.superclass.deselect.call(this);
a||this.container.trigger("dropdown-item-deselected",this)};a.Label=f;a.Body=h;a.Item=b;return{Checkbox:a}});_.namespace("mp.widgets.dropdowns",function(){function a(){this.class_name="rounded_dropdown";this.label_class=mp.widgets.styled_labels.Rounded;this.body_class=f}function f(){this.class_name="rounded_dropdown_body";this.item_class=h}function h(){this.class_name="rounded_dropdown_item"}_.inherit(a,mp.widgets.Dropdown);a.prototype.default_config=function(){return _.extend(a.superclass.default_config.call(this),{emulate_select:!0})};_.inherit(f,mp.widgets.Dropdown.Body);f.prototype.label_changed=function(a,
d){this.container.css("min-width",d.container.outerWidth()-2)};_.inherit(h,mp.widgets.Dropdown.Item);h.prototype.create=function(){h.superclass.create.apply(this,arguments);if(this.config.type_icons){this.icon_container=$("<div>").addClass("icon_container");this.content=$("<div>").addClass("word_container");this.container.append(this.icon_container);if(this.config.second_type_icon)this.second_icon_container=$("<div>").addClass("second_icon_container"),this.container.append(this.second_icon_container);
this.container.append(this.content)}else this.content=this.container;return this};h.prototype.default_config=function(){return{type_icons:!1}};h.prototype._set_content=function(a){this.display_value=_.isArray(a)?a[1]:a;this.content.text(this.display_value).attr("title",this.display_value);if(this.config.type_icons)3<=a.length?(this.icon_container.addClass(a[2]),this.type=a[2]):(this.icon_container.addClass("unknown"),this.type="unknown")};a.Label=mp.widgets.styled_labels.Rounded;a.Body=f;a.Item=h;
return{Rounded:a}});_.namespace("mp.widgets.dropdowns",function(a){function f(){this.class_name="rounded_checkbox_dropdown";this.label_class=h;this.body_class=b}function h(){this.class_name="rounded_checkbox_label"}function b(){this.class_name="rounded_checkbox_body";this.item_class=d}function d(){this.class_name="rounded_checkbox_item"}_.inherit(f,a.Checkbox);f.prototype.default_config=function(){return _.extend(f.superclass.default_config.call(this),{filterable:!0})};f.prototype.bindings=function(){f.superclass.bindings.apply(this,
arguments);this.body.container.delegate(".search_box","keydown",_.bind(function(a){switch(a.which){case 27:this.label.item&&"string"!==typeof this.label.item&&this.body.select_item(this.label.item,!0);this.deactivate();break;case 9:this.select_if_one_visible();break;case 13:this.body.limited?this.select_string():this.select_if_one_visible()}},this))};f.prototype.select_if_one_visible=function(){if(1===this.body.visible().length){var a=this.body.visible()[0];a.selected?a.deselect():this.select_item(a);
this.body.deactivate()}};f.prototype.select_string=function(){this.select_item(this.body.select_string())};_.inherit(h,a.Checkbox.Label);h.prototype.create=function(a,b){this.title=$("<div>").addClass("title");this.arrow=$("<div>").addClass("arrow");h.superclass.create.call(this,a,b);this.container.append(this.title,this.arrow);return this};h.prototype.styles=a.Rounded.Label.prototype.styles;_.inherit(b,a.Checkbox.Body);b.prototype.styles=a.Rounded.Body.prototype.styles;b.prototype.create=function(a,
d){b.superclass.create.call(this,a,d);this.config.collapse||this.container.css("min-width",this.config.min_width+38);var c=$("<div>").addClass("search_box_container");this.search=$("<input />").addClass("search_box");this.content=$("<div>").addClass("content");!0===this.config.filterable&&this.container.append(c.append(this.search));this.container.append(this.content);this.appendTo=this.content;return this};b.prototype.bindings=function(){b.superclass.bindings.apply(this,arguments);this.container.delegate(".search_box",
"keyup",_.bind(this.filter,this))};b.prototype.visible=function(){var a=[];_.each(this.widgets,function(b){b.container.is(":visible")&&a.push(b)});return a};var n=function(a){var b=a.toLowerCase();return function(c){c=c.toLowerCase();return 1===a.length&&_.startsWith(c,b)||1!==a.length&&_.includes(c,b)}};b.prototype.filter=function(a){if(a&&_.include([9,13,38,40],a.which))a.preventDefault();else{var a=this.search.val(),b=n(a);_.each(this.widgets,function(a){b(a.display_value)?a.container.show():a.container.hide()})}};
b.prototype.activate=function(){b.superclass.activate.apply(this,arguments);this.scroll_to_selected();this.search.attr("value","").focus();this.filter(void 0,!0);return this};b.prototype.scroll_to_selected=function(){var a=this.selected();a&&!_.isArray(a)&&this.appendTo.scrollTo(a.container,{offset:{top:-10*a.container.height()}})};b.prototype.select_item=function(a,d){b.superclass.select_item.apply(this,arguments);this.scroll_to_selected()};b.prototype.select_string=function(){var a,b=this.search.val();
_.each(this.widgets,function(c){c.display_value===b&&(a=c)});if(!a){a=(new this.item_class).create(null,this.config).update(b);var c=_.sortedIndex(this.widgets,a,this.comparator);this.insert(a,c)}return a};b.prototype.fill=function(a,d){this.limited=d||!1;return b.superclass.fill.call(this,a)};f.filter_predicate_from_query=n;_.inherit(d,a.Checkbox.Item);f.Label=h;f.Body=b;f.Item=d;return{RoundedCheckbox:f}});mp.cookie={};mp.cookie.set=function(a,f,h,b){var d=new Date,b=b?this._parse_domain(document.location.hostname):"",a=a+"="+escape(f);d.setDate(d.getDate()+h);a+=null===h?"":";expires="+d.toGMTString();document.cookie=a+"; path=/"+(b?";domain=."+b:"")};mp.cookie.remove=function(a,f){mp.cookie.set(a,"",-1,f)};
mp.cookie.get=function(a){if(0<document.cookie.length){var f=document.cookie.indexOf(a+"=");if(-1!=f){f=f+a.length+1;a=document.cookie.indexOf(";",f);if(-1==a)a=document.cookie.length;return unescape(document.cookie.substring(f,a))}}return""};mp.cookie.exists=function(a){return 0<document.cookie.length&&-1!=document.cookie.indexOf(a+"=")?!0:!1};mp.cookie._parse_domain=function(a){return(a=a.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?a[0]:""};mp.modules={};mp.modules.loadJS=function(a){var f=document.createElement("script");f.setAttribute("type","text/javascript");f.setAttribute("src",a);mp.modules.appendToHead(f)};mp.modules.loadCSS=function(a){var f=document.createElement("link");f.setAttribute("rel","stylesheet");f.setAttribute("type","text/css");f.setAttribute("href",a);mp.modules.appendToHead(f)};mp.modules.appendToHead=function(a){document.getElementsByTagName("head")[0].appendChild(a)};/*
: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/.
 @website: http://www.datejs.com/
*/
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),abbreviatedDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),shortestDayNames:"Su,Mo,Tu,We,Th,Fr,Sa".split(","),firstLetterDayNames:"S,M,T,W,T,F,S".split(","),monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),abbreviatedMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,
may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,
millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",
offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};
(function(){var a=Date,f=a.prototype,h=a.CultureInfo,b=function(a,c){c||(c=2);return("000"+a).slice(-1*c)};f.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};f.setTimeToNow=function(){var a=new Date;this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds());return this};a.today=function(){return(new Date).clearTime()};a.compare=function(a,c){if(isNaN(a)||isNaN(c))throw Error(a+
" - "+c);if(a instanceof Date&&c instanceof Date)return a<c?-1:a>c?1:0;throw new TypeError(a+" - "+c);};a.equals=function(a,c){return 0===a.compareTo(c)};a.getDayNumberFromName=function(a){for(var c=h.dayNames,e=h.abbreviatedDayNames,b=h.shortestDayNames,a=a.toLowerCase(),d=0;d<c.length;d++)if(c[d].toLowerCase()==a||e[d].toLowerCase()==a||b[d].toLowerCase()==a)return d;return-1};a.getMonthNumberFromName=function(a){for(var c=h.monthNames,e=h.abbreviatedMonthNames,a=a.toLowerCase(),b=0;b<c.length;b++)if(c[b].toLowerCase()==
a||e[b].toLowerCase()==a)return b;return-1};a.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400};a.getDaysInMonth=function(b,c){return[31,a.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][c]};a.getTimezoneAbbreviation=function(a){for(var c=h.timezones,e=0;e<c.length;e++)if(c[e].offset===a)return c[e].name;return null};a.getTimezoneOffset=function(a){for(var c=h.timezones,e=0;e<c.length;e++)if(c[e].name===a.toUpperCase())return c[e].offset;return null};f.clone=function(){return new Date(this.getTime())};
f.compareTo=function(a){return Date.compare(this,a)};f.equals=function(a){return Date.equals(this,a||new Date)};f.between=function(a,c){return this.getTime()>=a.getTime()&&this.getTime()<=c.getTime()};f.isAfter=function(a){return 1===this.compareTo(a||new Date)};f.isBefore=function(a){return-1===this.compareTo(a||new Date)};f.isToday=function(){return this.isSameDay(new Date)};f.isSameDay=function(a){return this.clone().clearTime().equals(a.clone().clearTime())};f.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+
a);return this};f.addSeconds=function(a){return this.addMilliseconds(1E3*a)};f.addMinutes=function(a){return this.addMilliseconds(6E4*a)};f.addHours=function(a){return this.addMilliseconds(36E5*a)};f.addDays=function(a){this.setDate(this.getDate()+a);return this};f.addWeeks=function(a){return this.addDays(7*a)};f.addMonths=function(b){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(c,a.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};f.addYears=
function(a){return this.addMonths(12*a)};f.add=function(a){if("number"==typeof a)return this._orient=a,this;a.milliseconds&&this.addMilliseconds(a.milliseconds);a.seconds&&this.addSeconds(a.seconds);a.minutes&&this.addMinutes(a.minutes);a.hours&&this.addHours(a.hours);a.weeks&&this.addWeeks(a.weeks);a.months&&this.addMonths(a.months);a.years&&this.addYears(a.years);a.days&&this.addDays(a.days);return this};var d,n,k;f.getWeek=function(){var a,c,e,b,f;d=!d?this.getFullYear():d;n=!n?this.getMonth()+
1:n;k=!k?this.getDate():k;2>=n?(a=d-1,c=(a/4|0)-(a/100|0)+(a/400|0),e=c-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0)),b=0,f=k-1+31*(n-1)):(a=d,c=(a/4|0)-(a/100|0)+(a/400|0),e=c-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0)),b=e+1,f=k+(153*(n-3)+2)/5+58+e);a=(a+c)%7;b=f+3-(f+a-b)%7|0;d=n=k=null;return 0>b?53-((a-e)/5|0):b>364+e?1:(b/7|0)+1};f.getISOWeek=function(){d=this.getUTCFullYear();n=this.getUTCMonth()+1;k=this.getUTCDate();return b(this.getWeek())};f.setWeek=function(a){return this.moveToDayOfWeek(1).addWeeks(a-
this.getWeek())};a._validate=function(a,c,e,b){if("undefined"==typeof a)return!1;if("number"!=typeof a)throw new TypeError(a+" is not a Number.");if(a<c||a>e)throw new RangeError(a+" is not a valid value for "+b+".");return!0};a.validateMillisecond=function(b){return a._validate(b,0,999,"millisecond")};a.validateSecond=function(b){return a._validate(b,0,59,"second")};a.validateMinute=function(b){return a._validate(b,0,59,"minute")};a.validateHour=function(b){return a._validate(b,0,23,"hour")};a.validateDay=
function(b,c,e){return a._validate(b,1,a.getDaysInMonth(c,e),"day")};a.validateMonth=function(b){return a._validate(b,0,11,"month")};a.validateYear=function(b){return a._validate(b,0,9999,"year")};f.set=function(b){a.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());a.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());a.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());a.validateHour(b.hour)&&this.addHours(b.hour-
this.getHours());a.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());a.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());a.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);b.week&&a._validate(b.week,0,53,"week")&&this.setWeek(b.week);return this};f.moveToFirstDayOfMonth=function(){return this.set({day:1})};f.moveToLastDayOfMonth=function(){return this.set({day:a.getDaysInMonth(this.getFullYear(),
this.getMonth())})};f.moveToNthOccurrence=function(a,c){var e=0;if(0<c)e=c-1;else if(-1===c)return this.moveToLastDayOfMonth(),this.getDay()!==a&&this.moveToDayOfWeek(a,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a,1).addWeeks(e)};f.moveToDayOfWeek=function(a,c){var e=(a-this.getDay()+7*(c||1))%7;return this.addDays(0===e?e+7*(c||1):e)};f.moveToMonth=function(a,c){var e=(a-this.getMonth()+12*(c||1))%12;return this.addMonths(0===e?e+12*(c||1):e)};f.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-
new Date(this.getFullYear(),0,1))/864E5)+1};f.getTimezone=function(){return a.getTimezoneAbbreviation(this.getUTCOffset())};f.setTimezoneOffset=function(a){var c=this.getTimezoneOffset();return this.addMinutes(-6*Number(a)/10-c)};f.setTimezone=function(b){return this.setTimezoneOffset(a.getTimezoneOffset(b))};f.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};f.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&
(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};f.getUTCOffset=function(){var a=-10*this.getTimezoneOffset()/6;if(0>a)return a=(a-1E4).toString(),a.charAt(0)+a.substr(2);a=(a+1E4).toString();return"+"+a.substr(1)};f.getElapsed=function(a){return(a||new Date)-this};if(!f.toISOString)f.toISOString=function(){function a(c){return 10>c?"0"+c:c}return'"'+this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
":"+a(this.getUTCSeconds())+'Z"'};if("undefined"==typeof f._toString)f._toString=f.toString;f.toString=function(a){var c=this;if(a&&1==a.length){var e=h.formatPatterns;c.t=c.toString;switch(a){case "d":return c.t(e.shortDate);case "D":return c.t(e.longDate);case "F":return c.t(e.fullDateTime);case "m":return c.t(e.monthDay);case "r":return c.t(e.rfc1123);case "s":return c.t(e.sortableDateTime);case "t":return c.t(e.shortTime);case "T":return c.t(e.longTime);case "u":return c.t(e.universalSortableDateTime);
case "y":return c.t(e.yearMonth)}}var d=function(a){switch(1*a){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return a?a.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(a){if("\\"===a.charAt(0))return a.replace("\\","");c.h=c.getHours;switch(a){case "hh":return b(13>c.h()?0===c.h()?12:c.h():c.h()-12);case "h":return 13>c.h()?0===c.h()?12:c.h():c.h()-12;case "HH":return b(c.h());case "H":return c.h();case "mm":return b(c.getMinutes());
case "m":return c.getMinutes();case "ss":return b(c.getSeconds());case "s":return c.getSeconds();case "yyyy":return b(c.getFullYear(),4);case "yy":return b(c.getFullYear());case "dddd":return h.dayNames[c.getDay()];case "ddd":return h.abbreviatedDayNames[c.getDay()];case "dd":return b(c.getDate());case "d":return c.getDate();case "MMMM":return h.monthNames[c.getMonth()];case "MMM":return h.abbreviatedMonthNames[c.getMonth()];case "MM":return b(c.getMonth()+1);case "M":return c.getMonth()+1;case "t":return 12>
c.h()?h.amDesignator.substring(0,1):h.pmDesignator.substring(0,1);case "tt":return 12>c.h()?h.amDesignator:h.pmDesignator;case "S":return d(c.getDate());default:return a}}):this._toString()}})();
(function(){var a=Date,f=a.prototype,h=a.CultureInfo,b=Number.prototype;f._orient=1;f._nth=null;f._is=!1;f._same=!1;f._isSecond=!1;b._dateElement="day";f.next=function(){this._orient=1;return this};a.next=function(){return a.today().next()};f.last=f.prev=f.previous=function(){this._orient=-1;return this};a.last=a.prev=a.previous=function(){return a.today().last()};f.is=function(){this._is=!0;return this};f.same=function(){this._same=!0;this._isSecond=!1;return this};f.today=function(){return this.same().day()};
f.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};f.at=function(c){return"string"===typeof c?a.parse(this.toString("d")+" "+c):this.set(c)};b.fromNow=b.after=function(a){var c={};c[this._dateElement]=this;return(!a?new Date:a.clone()).add(c)};b.ago=b.before=function(a){var c={};c[this._dateElement]=-1*this;return(!a?new Date:a.clone()).add(c)};var d="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),n="january february march april may june july august september october november december".split(/\s/),
k="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),o="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),c="final first second third fourth fifth".split(/\s/);f.toObject=function(){for(var a={},c=0;c<k.length;c++)a[k[c].toLowerCase()]=this["get"+o[c]]();return a};a.fromObject=function(a){a.week=null;return Date.today().set(a)};for(var e=function(c){return function(){if(this._is)return this._is=!1,this.getDay()==c;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*
this._orient);this._isSecond=!1;var e=this._nth;this._nth=null;var b=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(c,e);if(this>b)throw new RangeError(a.getDayName(c)+" does not occur "+e+" times in the month of "+a.getMonthName(b.getMonth())+" "+b.getFullYear()+".");return this}return this.moveToDayOfWeek(c,this._orient)}},m=function(c){return function(){var e=a.today(),b=c-e.getDay();0===c&&1===h.firstDayOfWeek&&0!==e.getDay()&&(b+=7);return e.addDays(b)}},p=0;p<d.length;p++)a[d[p].toUpperCase()]=
a[d[p].toUpperCase().substring(0,3)]=p,a[d[p]]=a[d[p].substring(0,3)]=m(p),f[d[p]]=f[d[p].substring(0,3)]=e(p);d=function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}};e=function(c){return function(){return a.today().set({month:c,day:1})}};for(m=0;m<n.length;m++)a[n[m].toUpperCase()]=a[n[m].toUpperCase().substring(0,3)]=m,a[n[m]]=a[n[m].substring(0,3)]=e(m),f[n[m]]=f[n[m].substring(0,3)]=d(m);d=function(a){return function(c){if(this._isSecond)return this._isSecond=
!1,this;if(this._same){this._same=this._is=!1;for(var e=this.toObject(),c=(c||new Date).toObject(),b="",d=a.toLowerCase(),f=k.length-1;-1<f;f--){b=k[f].toLowerCase();if(e[b]!=c[b])return!1;if(d==b)break}return!0}"s"!=a.substring(a.length-1)&&(a+="s");return this["add"+a](this._orient)}};e=function(a){return function(){this._dateElement=a;return this}};for(m=0;m<k.length;m++)n=k[m].toLowerCase(),f[n]=f[n+"s"]=d(k[m]),b[n]=b[n+"s"]=e(n);f._ss=d("Second");b=function(a){return function(c){if(this._same)return this._ss(c);
if(c||0===c)return this.moveToNthOccurrence(c,a);this._nth=a;return 2===a&&(void 0===c||null===c)?(this._isSecond=!0,this.addSeconds(this._orient)):this}};for(n=0;n<c.length;n++)f[c[n]]=0===n?b(-1):b(n)})();
(function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};for(var a=Date.Parsing,f=a.Operators={rtoken:function(b){return function(d){var f=d.match(b);if(f)return[f[0],d.substring(f[0].length)];throw new a.Exception(d);}},token:function(){return function(a){return f.rtoken(RegExp("^s*"+a+"s*"))(a)}},stoken:function(a){return f.rtoken(RegExp("^"+a))},until:function(a){return function(b){for(var d=[],c=null;b.length;){try{c=a.call(this,b)}catch(e){d.push(c[0]);
b=c[1];continue}break}return[d,b]}},many:function(a){return function(b){for(var d=[],c=null;b.length;){try{c=a.call(this,b)}catch(e){break}d.push(c[0]);b=c[1]}return[d,b]}},optional:function(a){return function(b){var d=null;try{d=a.call(this,b)}catch(c){return[null,b]}return[d[0],d[1]]}},not:function(b){return function(d){try{b.call(this,d)}catch(f){return[null,d]}throw new a.Exception(d);}},ignore:function(a){return a?function(b){var d=null,d=a.call(this,b);return[null,d[1]]}:null},product:function(){for(var a=
arguments[0],b=Array.prototype.slice.call(arguments,1),d=[],c=0;c<a.length;c++)d.push(f.each(a[c],b));return d},cache:function(b){var d={},f=null;return function(c){try{f=d[c]=d[c]||b.call(this,c)}catch(e){f=d[c]=e}if(f instanceof a.Exception)throw f;return f}},any:function(){var b=arguments;return function(d){for(var f=null,c=0;c<b.length;c++)if(null!=b[c]){try{f=b[c].call(this,d)}catch(e){f=null}if(f)return f}throw new a.Exception(d);}},each:function(){var b=arguments;return function(d){for(var f=
[],c=null,e=0;e<b.length;e++)if(null!=b[e]){try{c=b[e].call(this,d)}catch(m){throw new a.Exception(d);}f.push(c[0]);d=c[1]}return[f,d]}},all:function(){var a=a;return a.each(a.optional(arguments))},sequence:function(b,d,h){d=d||f.rtoken(/^\s*/);h=h||null;return 1==b.length?b[0]:function(c){for(var e=null,f=null,p=[],j=0;j<b.length;j++){try{e=b[j].call(this,c)}catch(i){break}p.push(e[0]);try{f=d.call(this,e[1])}catch(q){f=null;break}c=f[1]}if(!e)throw new a.Exception(c);if(f)throw new a.Exception(f[1]);
if(h)try{e=h.call(this,e[1])}catch(l){throw new a.Exception(e[1]);}return[p,e?e[1]:c]}},between:function(a,b,d){var d=d||a,c=f.each(f.ignore(a),b,f.ignore(d));return function(a){a=c.call(this,a);return[[a[0][0],r[0][2]],a[1]]}},list:function(a,b,d){b=b||f.rtoken(/^\s*/);d=d||null;return a instanceof Array?f.each(f.product(a.slice(0,-1),f.ignore(b)),a.slice(-1),f.ignore(d)):f.each(f.many(f.each(a,f.ignore(b))),px,f.ignore(d))},set:function(b,d,h){d=d||f.rtoken(/^\s*/);h=h||null;return function(c){for(var e=
null,m=e=null,p=null,j=[[],c],i=!1,q=0;q<b.length;q++){e=m=null;i=1==b.length;try{e=b[q].call(this,c)}catch(l){continue}p=[[e[0]],e[1]];if(0<e[1].length&&!i)try{m=d.call(this,e[1])}catch(v){i=!0}else i=!0;!i&&0===m[1].length&&(i=!0);if(!i){e=[];for(i=0;i<b.length;i++)q!=i&&e.push(b[i]);e=f.set(e,d).call(this,m[1]);0<e[0].length&&(p[0]=p[0].concat(e[0]),p[1]=e[1])}p[1].length<j[1].length&&(j=p);if(0===j[1].length)break}if(0===j[0].length)return j;if(h){try{m=h.call(this,j[1])}catch(B){throw new a.Exception(j[1]);
}j[1]=m[1]}return j}},forward:function(a,b){return function(d){return a[b].call(this,d)}},replace:function(a,b){return function(d){d=a.call(this,d);return[b,d[1]]}},process:function(a,b){return function(d){d=a.call(this,d);return[b.call(this,d[0]),d[1]]}},min:function(b,d){return function(f){var c=d.call(this,f);if(c[0].length<b)throw new a.Exception(f);return c}}},h=function(a){return function(){var b=null,d=[];1<arguments.length?b=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&
(b=arguments[0]);if(b){var c=b.shift();if(c.length)return b.unshift(c[0]),d.push(a.apply(null,b)),b.shift(),d}else return a.apply(null,arguments)}},b="optional not ignore cache".split(/\s/),d=0;d<b.length;d++)f[b[d]]=h(f[b[d]]);h=function(a){return function(){return arguments[0]instanceof Array?a.apply(null,arguments[0]):a.apply(null,arguments)}};b="each any all".split(/\s/);for(d=0;d<b.length;d++)f[b[d]]=h(f[b[d]])})();
(function(){var a=Date,f=a.CultureInfo,h=function(a){for(var c=[],b=0;b<a.length;b++)a[b]instanceof Array?c=c.concat(h(a[b])):a[b]&&c.push(a[b]);return c};a.Grammar={};a.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var c=a.replace(/[^\d\+\-]/g,
"");c.length?this.timezoneOffset=Number(c):this.timezone=a.toLowerCase()}},day:function(a){var c=a[0];return function(){this.day=Number(c.match(/\d+/)[0])}},month:function(a){return function(){this.month=3==a.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(a)/4:Number(a)-1}},year:function(a){return function(){var c=Number(a);this.year=2<a.length?c:c+(c+2E3<f.twoDigitYearMax?2E3:1900)}},rday:function(a){return function(){switch(a){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(c){for(var c=c instanceof Array?c:[c],b=0;b<c.length;b++)c[b]&&c[b].call(this);c=new Date;if((this.hour||this.minute)&&!this.month&&!this.year&&!this.day)this.day=c.getDate();if(!this.year)this.year=c.getFullYear();if(!this.month&&0!==this.month)this.month=c.getMonth();if(!this.day)this.day=1;if(!this.hour)this.hour=0;if(!this.minute)this.minute=0;if(!this.second)this.second=0;if(this.meridian&&this.hour)if("p"==
this.meridian&&12>this.hour)this.hour+=12;else if("a"==this.meridian&&12==this.hour)this.hour=0;if(this.day>a.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");c=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?c.set({timezone:this.timezone}):this.timezoneOffset&&c.set({timezoneOffset:this.timezoneOffset});return c},finish:function(c){c=c instanceof Array?h(c):[c];if(0===c.length)return null;for(var b=0;b<c.length;b++)"function"==
typeof c[b]&&c[b].call(this);c=a.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(c=new Date);var b=!!(this.days&&null!==this.days||this.orient||this.operator),d,f,i;i="past"==this.orient||"subtract"==this.operator?-1:1;!this.now&&-1!="hour minute second".indexOf(this.unit)&&c.setTimeToNow();if((this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit))this.value=this.month+1,this.month=null,b=!0;if(!b&&this.weekday&&!this.day&&!this.days){d=Date[this.weekday]();
this.day=d.getDate();if(!this.month)this.month=d.getMonth();this.year=d.getFullYear()}if(b&&this.weekday&&"month"!=this.unit)this.unit="day",d=a.getDayNumberFromName(this.weekday)-c.getDay(),f=7,this.days=d?(d+i*f)%f:i*f;if(this.month&&"day"==this.unit&&this.operator)this.value=this.month+1,this.month=null;if(null!=this.value&&null!=this.month&&null!=this.year)this.day=1*this.value;if(this.month&&!this.day&&this.value&&(c.set({day:1*this.value}),!b))this.day=1*this.value;if(!this.month&&this.value&&
"month"==this.unit&&!this.now)this.month=this.value,b=!0;if(b&&(this.month||0===this.month)&&"year"!=this.unit)this.unit="month",d=this.month-c.getMonth(),f=12,this.months=d?(d+i*f)%f:i*f,this.month=null;if(!this.unit)this.unit="day";if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*i;else if(null==this[this.unit+"s"]||null!=this.operator){if(!this.value)this.value=
1;this[this.unit+"s"]=this.value*i}if(this.meridian&&this.hour)if("p"==this.meridian&&12>this.hour)this.hour+=12;else if("a"==this.meridian&&12==this.hour)this.hour=0;if(this.weekday&&!this.day&&!this.days&&(d=Date[this.weekday](),this.day=d.getDate(),d.getMonth()!==c.getMonth()))this.month=d.getMonth();if((this.month||0===this.month)&&!this.day)this.day=1;if(!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);if(b&&this.timezone&&
this.day&&this.days)this.day=this.days;return b?c.add(this):c.set(this)}};var b=a.Parsing.Operators,d=a.Grammar,n=a.Translator,k;d.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);d.timePartDelimiter=b.stoken(":");d.whiteSpace=b.rtoken(/^\s*/);d.generalDelimiter=b.rtoken(/^(([\s\,]|at|@|on)+)/);var o={};d.ctoken=function(a){var c=o[a];if(!c){for(var c=f.regexPatterns,d=a.split(/\s+/),j=[],i=0;i<d.length;i++)j.push(b.replace(b.rtoken(c[d[i]]),d[i]));c=o[a]=b.any.apply(null,j)}return c};d.ctoken2=
function(a){return b.rtoken(f.regexPatterns[a])};d.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),n.hour));d.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),n.hour));d.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),n.hour));d.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),n.hour));d.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),n.minute));d.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),n.minute));d.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),n.second));d.ss=
b.cache(b.process(b.rtoken(/^[0-5][0-9]/),n.second));d.hms=b.cache(b.sequence([d.H,d.m,d.s],d.timePartDelimiter));d.t=b.cache(b.process(d.ctoken2("shortMeridian"),n.meridian));d.tt=b.cache(b.process(d.ctoken2("longMeridian"),n.meridian));d.z=b.cache(b.process(b.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),n.timezone));d.zz=b.cache(b.process(b.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),n.timezone));d.zzz=b.cache(b.process(d.ctoken2("timezone"),n.timezone));d.timeSuffix=b.each(b.ignore(d.whiteSpace),
b.set([d.tt,d.zzz]));d.time=b.each(b.optional(b.ignore(b.stoken("T"))),d.hms,d.timeSuffix);d.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(d.ctoken2("ordinalSuffix"))),n.day));d.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(d.ctoken2("ordinalSuffix"))),n.day));d.ddd=d.dddd=b.cache(b.process(d.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}}));d.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),n.month));d.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),
n.month));d.MMM=d.MMMM=b.cache(b.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),n.month));d.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),n.year));d.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),n.year));d.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),n.year));d.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),n.year));k=function(){return b.each(b.any.apply(null,arguments),b.not(d.ctoken2("timeContext")))};d.day=k(d.d,d.dd);d.month=k(d.M,d.MMM);d.year=k(d.yyyy,d.yy);d.orientation=b.process(d.ctoken("past future"),
function(a){return function(){this.orient=a}});d.operator=b.process(d.ctoken("add subtract"),function(a){return function(){this.operator=a}});d.rday=b.process(d.ctoken("yesterday tomorrow today now"),n.rday);d.unit=b.process(d.ctoken("second minute hour day week month year"),function(a){return function(){this.unit=a}});d.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}});d.expression=b.set([d.rday,d.operator,d.value,d.unit,d.orientation,
d.ddd,d.MMM]);k=function(){return b.set(arguments,d.datePartDelimiter)};d.mdy=k(d.ddd,d.month,d.day,d.year);d.ymd=k(d.ddd,d.year,d.month,d.day);d.dmy=k(d.ddd,d.day,d.month,d.year);d.date=function(a){return(d[f.dateElementOrder]||d.mdy).call(this,a)};d.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(c){if(d[c])return d[c];throw a.Parsing.Exception(c);}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(a){return b.ignore(b.stoken(a))}))),
function(a){return b.process(b.each.apply(null,a),n.finishExact)});var c={};d.formats=function(a){if(a instanceof Array){for(var f=[],p=0;p<a.length;p++)f.push(c[a[p]]=c[a[p]]||d.format(a[p])[0]);return b.any.apply(null,f)}return c[a]=c[a]||d.format(a)[0]};d._formats=d.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));
d._start=b.process(b.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),n.finish);d.start=function(a){try{var c=d._formats.call({},a);if(0===c[1].length)return c}catch(b){}return d._start.call({},a)};a._parse=a.parse;a.parse=function(c){var b=null;if(!c)return null;if(c instanceof Date)return c;try{b=a.Grammar.start.call({},c.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(d){return null}return 0===b[1].length?b[0]:null};a.getParseFunction=function(c){var b=a.Grammar.formats(c);return function(a){var c=
null;try{c=b.call({},a)}catch(e){return null}return 0===c[1].length?c[0]:null}};a.parseExact=function(c,b){return a.getParseFunction(b)(c)}})();_.namespace("mp.utility",function(a){a.country_codes={BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint-Barth\u00e9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",JO:"Hashemite Kingdom of Jordan",WS:"Samoa",BQ:"Bonaire, Sint Eustatius, and Saba",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize","":"",RU:"Russia",RW:"Rwanda",TO:"Tonga",TL:"East Timor",
RE:"R\u00e9union",LU:"Luxembourg",LR:"Liberia",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",BW:"Botswana",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",
HN:"Honduras",CR:"Costa Rica",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestine",PW:"Palau",PT:"Portugal",KR:"Republic of Korea",PY:"Paraguay",AI:"Anguilla",SH:"Saint Helena",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn Islands",A2:"Satellite Provider",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EE:"Estonia",NA:"Namibia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",AO:"Angola",SB:"Solomon Islands",ET:"Ethiopia",ZW:"Zimbabwe",KY:"Cayman Islands",
ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Republic of Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar [Burma]",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",UA:"Ukraine",MX:"Mexico",MZ:"Mozambique",FR:"France",AW:"Aruba",A1:"Anonymous Proxy",AX:"\u00c5land",RS:"Serbia",
FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",SO:"Somalia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos [Keeling] Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Congo",
CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",UY:"Uruguay",CW:"Cura\u00e7ao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"S\u00e3o Tom\u00e9 and Pr\u00edncipe",SK:"Slovak Republic",SJ:"Svalbard and Jan Mayen",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",SA:"Saudi Arabia",
SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",AT:"Austria",DZ:"Algeria",US:"United States",YT:"Mayotte",UM:"U.S. Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",country_iso_code:"country_name",LT:"Republic of Lithuania",TM:"Turkmenistan",TJ:"Tajikistan",LS:"Lesotho",TH:"Thailand",
TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican City",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",IQ:"Iraq",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",VN:"Vietnam",AN:"Netherlands Antilles",AQ:"Antarctica",AP:"Asia/Pacific Region",AS:"American Samoa",AR:"Argentina",AU:"Australia",IL:"Israel",IO:"British Indian Ocean Territory",IN:"India",
TZ:"Tanzania",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",PA:"Panama",MY:"Malaysia",QA:"Qatar"}});_.namespace("mp.utility",function(a){var f=function(){return-1<["segmentation","funnels","retention","formulas"].indexOf(mp.report.globals.report_name)};a.maybe_add_feature_gate_upsell_to_calendar=function(a){if("free"===mp.report.globals.feature_gate_name&&f()){var e=mp.report.globals.feature_gates.max_data_history_days,e=$("<div>").addClass("text").html("Analyze your historical data beyond "+e+' days. <a class="upgrade-link" href="/pricing" target="_blank">Upgrade</a> your plan!'),e=$("<div>").addClass("contents").append('<img class="lightning-bolt" src="/site_media/images/pricing/lightning-bolt.svg">').append(e),
e=$("<div>").addClass("datepicker-upsell").append(e);a.prepend(e)}};a.track_upsell_event=function(a,e){mixpanel.track(a,{Tab:mp.report.globals.report_name,"Plan Type":(mp.report.globals.events_plan.name.match(/(Free|Startup|Business)/)||[])[0],"Feature Limit":{bookmark:"Saved Reports",csv:"CSV Export",custom_events:"Custom Events",date_picker:"Data History",data_management:"Data Management",formulas:"Formulas",funnels:"Funnels",platform:"Custom Apps",predict:"Predict",retention:"Retention",revenue:"Revenue",
sampling:"Sampling",security:"Two-Factor/SSO",segmentation:"Segmentation",team:"Team Members"}[e],"Limit Type":{bookmark:"Feature Limit",csv:"Feature Access",custom_events:"Feature Limit",date_picker:"Feature Limit",data_management:"Feature Access",formulas:"Feature Access",funnels:"Feature Limit",platform:"Feature Access",predict:"Feature Access",retention:"Feature Limit",revenue:"Feature Access",sampling:"Feature Access",security:"Feature Access",segmentation:"Feature Limit",team:"Feature Limit"}[e]})};
a.feature_gate_datepicker=function(a){var e="",b=mp.utility.get_oldest_allowed_date_from_feature_gate_set(),a=a>=b;!a&&f()&&(e="feature-gated");return[a,e]};a.get_oldest_allowed_date_from_feature_gate_set=function(){var a=new Date;if("legacy"===mp.report.globals.feature_gate_name||!f())return a.addYears(-100),a;var e=mp.report.globals.feature_gates.max_data_history_days;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);a.addDays(-e);"retention"===mp.report.globals.report_name&&365<=
e&&a.setDate(1);return a};a.is_autotrack_event=function(a){return _.any(mp.report.globals.custom_events,function(e){return a==="$custom_event:"+e.id&&e.is_collect_everything_event})};a.bind_esc=function(a,e,b){b&&(e=_.bind(e,b));$("body").on("keydown."+a,function(b){27===b.which&&(e(b),$("body").off("keydown."+a))})};a.unbind_esc=function(a,e){e?$("body").off("keydown."+a,e):$("body").off("keydown."+a)};a.bind_outside_event=function(a,e,b,d,f){f&&(d=_.bind(d,f));$(document).on(a+"."+e+".OUTSIDE_EVENT",
function(a){b.length&&!$(b).is(a.target)&&!$.contains(b[0],a.target)&&$.contains(document,a.target)&&d(a)})};a.unbind_outside_event=function(a,e){$(document).off(a+"."+e+".OUTSIDE_EVENT")};a.parseUri=function(c){for(var e=a.parseUri.options,c=e.parser[e.strictMode?"strict":"loose"].exec(c),b={},d=14;d--;)b[e.key[d]]=c[d]||"";b[e.q.name]={};b[e.key[12]].replace(e.q.parser,function(a,c,d){c&&(b[e.q.name][c]=d)});return b};a.parseUri.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),
q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var h=RegExp("\\.(aero|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|travel|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zr|zw)\\b");
a.isURL=function(a){if("string"!==typeof a||-1!==a.indexOf(" "))return!1;var e=/^https?:\/\//.test(a),b=0===a.indexOf("ftp://"),d=!e&&!b&&-1!==a.indexOf("@");return(e||h.test(a))&&!d&&!b};a.is_http_uri=function(a){return"string"===typeof a&&-1===a.indexOf(" ")&&/^https?:\/\//.test(a)};a.sanitize=function(a){return"undefined"!==typeof $?$("<div/>").text(a).html():a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")};a.percentify=function(a,e){return 0<e?100*(a/e):0};a.percentage_to_int=
function(a){a=/(\d{0,3})\s*%/.exec(a)[1];return parseInt(a,10)};a.px_to_int=function(a){a=parseInt(a,10);isNaN(a)&&(a=0);return a};a.http_build_query=function(a,e){var b,d,f,i=0,h=[];e||(e="&");for(b in a)b&&(d=encodeURIComponent(a[b].toString()),f=encodeURIComponent(b),h[i++]=f+"="+d);return h.join(e)};a.shorten_string=function(a,e){e||(e=20);return a.length>e?a.substring(0,e)+"...":a};a.truncate_middle=function(a,e){if(a){if(3>=e)return a.substr(0,e);if(!(a.length<=e))return _.splice(a,(e-3)/2,
a.length-e+3,"...")}return a};a.truncate_middle_html=function(a,e){var b=a.text(),d=b.length-e;if(0<d){var f=e/2,i=b.length-f+3,h=0,l=!1;_.each(a.contents(),function(a){var a=$(a),c=a.text(),e=c.length;0!==d&&(h<f&&e>f-h?(a.text(c.substr(0,f-h)+"..."),l=!0,d-=e-(f-h)):f<=h&&h<i&&(e>=d?(c=l?c.substr(d):"..."+c.substr(d),a.text(c.substr(d)),d=0):(a.remove(),d-=e)),h+=e)})}return a};a.truncate_url=function(a,e){var b=document.createElement("a");b.href=a;b=[b.host,b.pathname,b.search,b.hash].join("");
b.length>e&&(b=mp.utility.shorten_string(b,e-3));return b};a.commaize=function(a,e){switch(typeof a){case "number":if(_.isNaN(a))return a;a=a.toString();break;case "string":break;default:return a}var b=!1;"-"===a[0]&&(b=!0,a=a.slice(1));var d=a.split("."),f=e?d[0]:parseInt(d[0]||0,10).toString();f.length&&(f=f.split("").reverse().join(""),f=f.match(/.{1,3}/g).join(","),f=f.split("").reverse().join(""));d[1]&&(f+="."+d[1]);b&&(f="-"+f);return f};a.pluralize=function(a,e,b){return 0===e||1<e?b||a+"s":
a};a.pretty_number=function(c,e){for(var c=parseFloat(c),e=void 0===e?1:e,b=[[Math.pow(10,15),"Q"],[Math.pow(10,12),"T"],[Math.pow(10,9),"B"],[Math.pow(10,6),"M"],[Math.pow(10,3),"K"]],d="",f=0;f<b.length;f++){var h=b[f][0],k=b[f][1];if(Math.abs(c)>=h){c/=h;d=k;break}}return a.pretty_number_raw(c,e)+d};a.pretty_number_raw=function(c,e){var c=parseFloat(c),b=0>c,d=c.toFixed(void 0===e?1:e).split("."),f=a.commaize(Math.abs(parseInt(d[0],10)));d[1]&&0!==parseInt(d[1],10)&&(f+="."+d[1]);return(b?"-":
"")+f};a.pretty_file_size=function(a){var e=["Bytes","KB","MB","GB","TB"],b=e.length;if(0===a)return"0 Bytes";var d=Math.floor(Math.log(a)/Math.log(1024)),e=d>=b?e[b-1]:e[d];return Math.round(a/Math.pow(1024,Math.min(d,b-1)))+" "+e};a.ordinalize=function(a){var e=Math.abs(a);if(_.include([11,12,13],e%100))return a+"th";switch(e%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}};a.format_numeric_bucket=function(c){c=c.split(" - ");return a.pretty_number(c[0])+
" - "+a.pretty_number(c[1])};a.expand_num=function(a){var a=a.replace(/,/g,""),e=a.slice(0,a.length-1);return/.*M$/.test(a)?1E6*parseFloat(e):/.*K$/.test(a)?1E3*parseFloat(e):parseFloat(a)};a.deep_copy=function(){var c={},e,b,d={},f;for(e=arguments.length-1;0<=e;e--)if("undefined"!==typeof arguments[e])if(null!==arguments[e]&&"object"===typeof arguments[e]&&!_.isArray(arguments[e]))for(b in arguments[e])arguments[e].hasOwnProperty(b)&&(d[b]=!0);else return arguments[e];for(b in d)if(d.hasOwnProperty(b)){f=
[];for(e=0;e<arguments.length;e++)"undefined"!==typeof arguments[e]&&f.push(arguments[e][b]);c[b]=a.deep_copy.apply(this,f)}return c};a.floatformat=function(a,e){if("number"===typeof a){var b=a.toFixed(e),d=parseInt(b,10);return 0===b-d?d:b}return a};a.default_date_format="yyyy-MM-dd";a.to_localized_date=function(a){if(_.isNaN(mp.report.globals.utc_offset))throw"utc_offset not set";return(new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),
a.getUTCMilliseconds())).addMinutes(mp.report.globals.utc_offset)};a.to_localized_date_string=function(a){return mp.utility.to_localized_date(a).toString(this.default_date_format)};a.date_to_ms_epoch=function(a){var e,a=a.split(" "),b=a[0].split("-");a[1]&&(e=a[1].split(":"));"0"===b[1][0]&&(b[1]=b[1][1]);return e?(new Date(b[0],parseInt(b[1],10)-1,b[2],e[0],e[1],e[2])).getTime():(new Date(b[0],parseInt(b[1],10)-1,b[2])).getTime()};a.MP_ANYTHING_EVENT="$mp_anything_event";a.prepare_event_names_for_dropdown=
function(a){return a=_(a).chain().map(function(a){return[a,mp.utility.rename_mp_event(a)]}).sortBy(function(a){return a[1].toLowerCase()}).value()};a.rename_mp_event=function(a,e){if("undefined"!==typeof Backbone&&Backbone.data&&Backbone.data.custom_events){var b=Backbone.data.custom_events,d=Backbone.data.deleted_custom_events;if(b.is_custom_event(a))return b=b.get_by_name(a),!b&&(b=d.get_by_name(a)),b?b.get_display_name():a}d={$campaign_delivery:"Notification Sent",$campaign_open:"Notification Opened",
$campaign_bounced:"Notification Bounced",$campaign_marked_spam:"Notification Marked Spam",$experiment_started:"Experiment Started",$show_survey:"Show Survey",$top_events:"Your Top Events",$unsubscribe:"Notifications Unsubscribed"};e&&(d=_.invert(d));return _.has(d,a)?d[a]:a};a.mp_property_mapping={$answer_count:"Answer Count",$app_build_number:"$app_build_number",$app_release:"App Release",$app_version:"App Version",$app_version_string:"$app_version_string",$bluetooth_enabled:"Bluetooth Enabled",
$bluetooth_version:"Bluetooth Version",$brand:"Brand",$browser:"Browser",$browser_version:"Browser Version",$campaigns:"Notifications Sent",$carrier:"Carrier",$city:"City",$country_code:"Country",$current_url:"Current URL",$experiments:"Experiments",$device:"Device",$duration:"Duration",$from_binding:"From Binding",$google_play_services:"Google Play Services",$has_nfc:"Has NFC",$has_telephone:"Has Telephone",$import:"Import",$initial_referrer:"Initial Referrer",$initial_referring_domain:"Initial Referring Domain",
$ios_ifa:"iOS IFA",$lib_version:"Library Version",$manufacturer:"Manufacturer",$model:"Model",$os:"Operating System",$os_version:"OS Version",$radio:"Radio",$referrer:"Referrer",$referring_domain:"Referring Domain",$region:"Region",$screen_dpi:"Screen DPI",$screen_height:"Screen Height",$screen_width:"Screen Width",$search_engine:"Search Engine",$survey_shown:"Survey Shown",$surveys:"Surveys Received",$transactions:"Total Revenue",$watch_model:"Watch Model",$wifi:"Wifi",campaign_id:"Campaign",collection_id:"Collection ID",
message_id:"Message ID",message_subtype:"Message Subtype",message_type:"Message Type",mp_country_code:"Country",mp_device_model:"Device Model",mp_keyword:"Search Keyword",mp_lib:"Mixpanel Library",survey_id:"Survey ID",utm_campaign:"UTM Campaign",utm_content:"UTM Content",utm_medium:"UTM Medium",utm_source:"UTM Source",utm_term:"UTM Term",mp_browser:"Browser",mp_page:"Page View",mp_platform:"Platform",mp_referrer:"Referrer"};a.mp_property_inverse=_.invert(a.mp_property_mapping);a.rename_mp_property=
function(c,e){var b=a.mp_property_mapping;if(b.hasOwnProperty(c))return b[c];if(e&&"campaign_id"===c&&a.includes_campaign_event([e]))return"Campaign";var b={$el_classes:"Element css classes",$el_tag_name:"Element tag",$el_text:"Element text",$el_value:"Element field value",$el_attr__href:"Element URL","$el_attr__data-":"Element data: ",$el_attr__:"Element attribute: ",$form_field__:"Form field: "},d;for(d in b)if(c.substring&&c.substring(0,d.length)===d)return b[d]+c.substring(d.length);return"$"===
c[0]&&1<c.length?_.map(c.substr(1).split("_"),_.capitalize).join(" "):c};a.get_human_readable_param_list=function(c){var e=c.property;if("object"===typeof e)e=e.name;var e=a.rename_mp_property(e),b=c.filter,d;switch(c.type){case "distinct_id":return[{val:e,type:"property"},{val:"is",type:"operator"},{val:b.operand,type:"operand"}];case "behavioral":return"><"===b.operator?(c=parseFloat(b.operand[0]),b=parseFloat(b.operand[1]),e=[{val:e,type:"property"},{val:"is between",type:"operator"},{val:Math.min(c,
b),type:"operand"},{val:"and",type:"operator"},{val:Math.max(c,b),type:"operand"}]):("<"===b.operator?d="less than":">"===b.operator?d="greater than":"=="===b.operator&&(d="exactly"),e=[{val:e,type:"property"},{val:d,type:"operator"},{val:parseFloat(b.operand),type:"operand"}]),e;case "number":return"><"===b.operator?(c=parseFloat(b.operand[0]),b=parseFloat(b.operand[1]),e=[{val:e,type:"property"},{val:"is between",type:"operator"},{val:Math.min(c,b),type:"operand"},{val:"and",type:"operator"},{val:Math.max(c,
b),type:"operand"}]):("<"===b.operator?d="is less than":">"===b.operator?d="is greater than":"=="===b.operator&&(d="equals"),e=[{val:e,type:"property"},{val:d,type:"operator"},{val:parseFloat(b.operand),type:"operand"}]),e;case "boolean":return[{val:e,type:"property"},{val:"is",type:"operator"},{val:b.operand,type:"operand"}];case "datetime":if("=="===b.operator)return[{val:e,type:"property"},{val:"occured on",type:"operator"},{val:b.operand,type:"operand"}];if("><"===b.operator)return[{val:e,type:"property"},
{val:"occured between",type:"operator"},{val:b.operand[0],type:"operand"},{val:"and",type:"operator"},{val:b.operand[1],type:"operand"}];c=b.unit;1===b.operand&&(c=c.substring(0,c.length-1));return[{val:e,type:"property"},{val:"<"===b.operator?"was less than":"was more than",type:"operator"},{val:b.operand,type:"operand"},{val:c+" ago",type:"unit"}];case "list":return[{val:b.operand,type:"operand"},{val:"in"===b.operator?"is in":"is not in",type:"operator"},{val:e,type:"property"}];case "object":return[];
case "unknown":case "string":if("in"===b.operator||"not in"===b.operator)return[{val:e,type:"property"},{val:"in"===b.operator?"contains":"does not contain",type:"operator"},{val:"Country"===e?mp.utility.get_country_name(b.operand):b.operand,type:"operand"}];if("set"===b.operator)return[{val:e,type:"property"},{val:"is set",type:"operator"}];if("not set"===b.operator)return[{val:e,type:"property"},{val:"is not set",type:"operator"}];var f;1<b.operand.length?"=="===b.operator?(d="is either",f="or"):
(d="is neither",f="nor"):d="=="===b.operator?"is":"is not";return[{val:e,type:"property"},{val:d,type:"operator"},{val:"Country"===e?_.map(b.operand,mp.utility.get_country_name):b.operand,type:"operand_list",separator:f}]}};a.get_property_filter_clause_text=function(a){var b="";_.each(a,function(a,c){0!==c&&(b+=" ");if("operand_list"!==a.type)b+=a.val;else{var d=a.val;if(2>d.length)b+=d;else{var f=2===d.length?" "+a.separator+" ":", ";_.each(d,function(c,h){h===d.length-1&&2<d.length&&(b+=a.separator+
" ");b+=c;h!==d.length-1&&(b+=f)})}}});return b};a.to_mp_property=function(c){var b=a.mp_property_inverse;b.hasOwnProperty(c)&&(c=b[c]);return c};a.format_long_value=function(a,b){var d=b,f=Date.parseExact(d,"yyyy-MM-ddTHH:mm:ss");f&&(d=f.toString("ddd, MMM d, hh:mm tt"));return _.trim(d)};a.make_tag=function(a,b,d){return $("<"+a+"></"+a+">",b).text(d)};a.format_html_property_value=function(c,b,d){var f;_.isUndefined(b)?f=$("<span>&nbsp;</span>"):(_.isObject(b)&&(b=JSON.stringify(b)),f=""+b,c&&(c.match(/^\$?email$/i)||
a.is_valid_email(b))?(c=a.format_long_value(c,b),f=a.make_tag("a",{"class":"email_property_link",title:c,href:"mailto:"+f},f)):a.isURL(b)?(d=d?a.truncate_middle(f,d):f,c=f,-1===c.indexOf("://")&&(c="http://"+c),f=a.make_tag("a",{"class":"url_property_link",target:"_blank",href:c,title:d!==f?f:void 0},d)):(c=a.format_long_value(c,b),f=a.make_tag("div",{title:c&&d&&c.length>d?c:void 0},f)));f.addClass("mp_tooltip_enabled");return f};a.includes_campaign_event=function(a){var b;try{b=Backbone.data.custom_events}catch(d){}return _.chain(a).map(function(a){var c;
if(b){var d=b.get_by_name(a);d&&(c=d.get_alternatives())}return c||a}).flatten().any(function(a){return a&&a.match(/^\$campaign_|^\$unsubscribe$/)}).value()};a.get_campaign_name=function(a){var b=_.findWhere(mp.report.globals.project_campaigns,{"0":parseInt(a,10)});return b?b[1]:a.toString()};a.get_country_name=function(c){var b=a.country_codes,d=c.toUpperCase();return b.hasOwnProperty(d)?b[d]:c};var b=["$initial_referring_domain","$referring_domain","origin_domain","initial domain"];a.human_name_for_segment_value=
function(c,e,d){var f=_.isObject(e)?e.name:e;"mp_country_code"===f?c=a.get_country_name(c):_.contains(b,e)?a.isURL(c)&&!/^http:\/\//.test(c)&&(c="http://"+c):"campaign_id"===f&&a.includes_campaign_event([d])&&(c=a.get_campaign_name(c));return c};a.log=mp.globals&&mp.globals.debug&&window.console&&console.log&&console.log.apply?_.bind(console.log,console):function(){};a.warn=mp.globals&&mp.globals.debug&&window.console&&console.warn&&console.warn.apply?_.bind(console.warn,console):function(){};a.error=
mp.globals&&mp.globals.debug&&window.console&&console.error&&console.error.apply?_.bind(console.error,console):function(){};a.group=mp.globals&&mp.globals.debug&&window.console&&console.group&&console.group.apply?_.bind(console.group,console):a.log;a.groupCollapsed=mp.globals&&mp.globals.debug&&window.console&&console.groupCollapsed&&console.groupCollapsed.apply?_.bind(console.groupCollapsed,console):a.log;a.groupEnd=mp.globals&&mp.globals.debug&&window.console&&console.groupEnd&&console.groupEnd.apply?
_.bind(console.groupEnd,console):function(){};a.timer={start_times:{},start:function(a){a=a||Math.random();this.start_times[a]=(new Date).getTime();return a},stop:function(a){var b=(new Date).getTime()-this.start_times[a];delete this.start_times[a];return b}};a.string_time=function(a){var b=a/60,d=b/60,f=d/24,h=f/7;return isNaN(a)?"?":60>a?"less than a minute":90>b?b.toFixed(0)+" min.":36>d?d.toFixed(0)+" hours":11>f?f.toFixed(0)+" days":h.toFixed(0)+" weeks"};a.time_since_date=function(c){return a.string_time((new Date-
c)/1E3)};a.inflect=function(a,b){"string"===typeof b&&(b=parseFloat(b));var d=a;if(1!==b)for(var f=[[/(s|ss|sh|ch|x|o)$/,"$1es"],[/([^aeiou])y$/,"$1ies"],[/$/,"s"]],h=0;h<f.length;h++)if(d.match(f[h][0])){d=d.replace(f[h][0],f[h][1]);break}return d};a.format_duration=function(a){var b;60>a?b=" second":3600>a?(a=Math.floor(a/60),b=" minute"):86400>a?(a=(a/60/60).toFixed(1),b=" hour"):(a=(a/60/60/24).toFixed(1),b=" day");return a+mp.utility.inflect(b,a)};a.set_flag=function(a){$.post("/set_flag/",{flag:a});
mp.report.globals.flags[a]=1};a.increment_flag=function(a){$.post("/increment_flag/",{flag:a});mp.report.globals.flags[a]=(mp.report.globals.flags[a]||0)+1};a.throttle=function(a,b,d){var f;return function(){var h=d||this,i=arguments,k=function(){l();a.apply(h,i)},l=function(){f=null};clearTimeout(f);f?f=setTimeout(k,b):(a.apply(h,i),f=setTimeout(l,b))}};a.compute_sig=function(a){a.api_key=mp.report.globals.api_key;var b=(new Date).getTime()+mp.report.globals.local_offset;a.expire=Math.ceil(b/1E3)+
3600;b=_.keys(a).sort();b=_.reduce(b,function(b,e){return _.isUndefined(a[e])?b:b+e+"="+a[e]},"");b+=mp.report.globals.api_secret;a.sig=hex_md5(b)};a.property_values_limit=function(){return 1500};a.is_valid_email=function(a){return/^[+a-zA-Z0-9_.-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,}$/.test(a)};a.strip_spaces_between_tags=function(a){return a.replace(/>\s+</g,"><")};a.spacer_row=function(a){var b=$('<tr class="spacer_row" style="height: 1px"></tr>'),d=$(a);d.is("tr")||(d=a.find("tr").first());d.find("th, td").each(function(a,
c){var d=$(c).outerWidth(),f=$(c).attr("colspan"),d=$("<td></td>").html($("<div></div>").css("width",d+"px"));f&&d.attr("colspan",f);b.append(d)});return b};a.arb_escape=function(a,b){if(!_.isString(a))return JSON.stringify(a);a=a.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return b?a:_.sprintf('"%s"',a)};a.round=function(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)};var d="#53a3eb,#32bbbd,#a28ccb,#da7b80,#2bb5e2,#e8bc66,#d390b6,#a0a7d6,#e8cc75,#f3ba41,#7d92cd,#24be86".split(","),n="#2ec6c8,#a58bd6,#c68185,#5ab0ee,#dcbd80,#94C897,#8E95F2,#76B9ED,#D39D23,#AF85C9".split(","),
k=["#dc747a","#3c9aef","#f8970e"];a.nth_color=function(a,b){var f;f="vibrant"===b?n:"colorblind"===b?k:d;return f[a%f.length]};a.regex_escape=function(a){return(""+a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};a.base64_encode=function(c){var b,d,f,h,i=0,k=0,l="",l=[];if(!c)return c;c=a.utf8_encode(c);do b=c.charCodeAt(i++),d=c.charCodeAt(i++),f=c.charCodeAt(i++),h=b<<16|d<<8|f,b=h>>18&63,d=h>>12&63,f=h>>6&63,h&=63,l[k++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h);while(i<c.length);l=l.join("");switch(c.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l};a.utf8_encode=function(a){var a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),b="",d,f,h=0,i;d=f=0;h=a.length;for(i=0;i<h;i++){var k=a.charCodeAt(i),
l=null;128>k?f++:l=127<k&&2048>k?String.fromCharCode(k>>6|192,k&63|128):String.fromCharCode(k>>12|224,k>>6&63|128,k&63|128);null!==l&&(f>d&&(b+=a.substring(d,f)),b+=l,d=f=i+1)}f>d&&(b+=a.substring(d,a.length));return b};a.get_next_month=function(a){var b=(a.getUTCMonth()+1)%12,a=a.getUTCFullYear()+Math.floor((a.getUTCMonth()+1)/12),b=new Date(a,b,1);return b.addMinutes(-b.getTimezoneOffset())};a.first_of_month=function(a){a=new Date(a.getUTCFullYear(),a.getUTCMonth(),1);return a.addMinutes(-a.getTimezoneOffset())};
a.get_name_initials=function(a){var a=a.replace(/^\s+|\s+$/g,""),b="";a&&(a=a.split(" "),b=a[0].charAt(0),1<a.length&&(b+=a[a.length-1].charAt(0)));return b};a.get_color_class_for_string=function(a){for(var b=null;!b;)a=b64_md5(a||""),b=_.first(a.match(/[a-z]/i));return"color_"+b.toUpperCase()};a.stats={stat:function(a,b,d){d=d||{};return $.get("/stats/stat",{metric:a,value:b,tags:JSON.stringify(d)})}};a.get_people_events_or_standard_property_filter_class=function(){return mp.report.globals.is_people_events_active?
mp.widgets.PeopleEventsPropertyFilter:mp.widgets.PropertyFilter};a.get_people_events_or_standard_property_select_class=function(){return mp.report.globals.is_people_events_active?Backbone.widgets.PeopleEventsPropertySelect:Backbone.widgets.PropertySelect};var o="$answers,$campaigns,$deliveries,$experiments,$events_distinct_id,$notifications,$predict_convert_event,$predict_grade_last_updated".split(",");a.get_global_hidden_people_properties=function(){return _.clone(o)};a.CSS_TRANSITION_END_EVENTS=
"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";a.parse_selector=function(a){var b={};if(_.isObject(a)){if(!_.isEmpty(a.behaviors))b.behaviors=a.behaviors;if(a.selector)b.selector=a.selector}else b.selector=a;return b};a.build_selector=function(a,b){return _.isEmpty(b)?a:{selector:a,behaviors:b}};a.can_add_bookmark=function(){return new Promise(function(a,b){$.ajax({url:_.sprintf("/report/%s/bookmarks/limited_count/",mp.report.globals.project_id),method:"GET"}).done(function(b){a(mp.report.user.is_below_limit("max_saved_reports",
b.bookmark_count))}).fail(function(){b()})})};a.section_viewed_tracking_helper=function(a){var b=$(window).scrollTop(),d=b+$(window).height(),f=a.$selector.height(),h=a.$selector.position().top,i=f/4+h,f=3*(f/4)+h;if(b<=f&&d>i&&!a.was_on_screen)a.was_on_screen=!0,mixpanel.time_event(a.event_name);else if((b>f||d<i)&&a.was_on_screen)a.was_on_screen=!1,mixpanel.track(a.event_name)}});(function(a){var f,h,b,d,n,k,o,c,e,m,p=0,j={},i=[],q=0,l={},v=[],B=null,y=new Image,G=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,H=/[^\.]\.(swf)\s*$/i,g,u=1,z=0,x="",w,t,s=!1,A=a.extend(a("<div/>")[0],{prop:0}),D=a.browser.msie&&7>a.browser.version&&!window.XMLHttpRequest,I=function(){h.hide();y.onerror=y.onload=null;B&&B.abort();f.empty()},J=function(){!1===j.onError(i,p,j)?(h.hide(),s=!1):(j.titleShow=!1,j.width="auto",j.height="auto",f.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),
F())},E=function(){var b=i[p],c,d,e,g,l,m;I();j=a.extend({},a.fn.fancybox.defaults,"undefined"==typeof a(b).data("fancybox")?j:a(b).data("fancybox"));m=j.onStart(i,p,j);if(!1===m)s=!1;else{"object"==typeof m&&(j=a.extend(j,m));e=j.title||(b.nodeName?a(b).attr("title"):b.title)||"";if(b.nodeName&&!j.orig)j.orig=a(b).children("img:first").length?a(b).children("img:first"):a(b);""===e&&j.orig&&j.titleFromAlt&&(e=j.orig.attr("alt"));c=j.href||(b.nodeName?a(b).attr("href"):b.href)||null;if(/^(?:javascript)/i.test(c)||
"#"==c)c=null;if(j.type){if(d=j.type,!c)c=j.content}else j.content?d="html":c&&(d=c.match(G)?"image":c.match(H)?"swf":a(b).hasClass("iframe")?"iframe":0===c.indexOf("#")?"inline":"ajax");if(d){"inline"==d&&(b=c.substr(c.indexOf("#")),d=0<a(b).length?"inline":"ajax");j.type=d;j.href=c;j.title=e;if(j.autoDimensions&&"iframe"!==j.type&&"swf"!==j.type)j.width="auto",j.height="auto";if(j.modal)j.overlayShow=!0,j.hideOnOverlayClick=!1,j.hideOnContentClick=!1,j.enableEscapeButton=!1,j.showCloseButton=!1;
j.padding=parseInt(j.padding,10);j.margin=parseInt(j.margin,10);f.css("padding",j.padding+j.margin);a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(k.children())});switch(d){case "html":f.html(j.content);F();break;case "inline":if(!0===a(b).parent().is("#fancybox-content")){s=!1;break}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(b)).bind("fancybox-cleanup",function(){a(this).replaceWith(k.children())}).bind("fancybox-cancel",
function(){a(this).replaceWith(f.children())});a(b).appendTo(f);F();break;case "image":s=!1;a.fancybox.showActivity();y=new Image;y.onerror=function(){J()};y.onload=function(){s=!0;y.onerror=y.onload=null;j.width=y.width;j.height=y.height;a("<img />").attr({id:"fancybox-img",src:y.src,alt:j.title}).appendTo(f);K()};y.src=c;break;case "swf":g='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+j.width+'" height="'+j.height+'"><param name="movie" value="'+c+'"></param>';l="";a.each(j.swf,
function(a,b){g+='<param name="'+a+'" value="'+b+'"></param>';l+=" "+a+'="'+b+'"'});g+='<embed src="'+c+'" type="application/x-shockwave-flash" width="'+j.width+'" height="'+j.height+'"'+l+"></embed></object>";f.html(g);F();break;case "ajax":s=!1;a.fancybox.showActivity();j.ajax.win=j.ajax.success;B=a.ajax(a.extend({},j.ajax,{url:c,data:j.ajax.data||{},error:function(a){0<a.status&&J()},success:function(a,b,d){if(200==d.status){if("function"==typeof j.ajax.win){m=j.ajax.win(c,a,b,d);if(!1===m){h.hide();
return}if("string"==typeof m||"object"==typeof m)a=m}f.html(a);F()}}}));break;case "iframe":K()}}else J()}},F=function(){f.width(j.width);f.height(j.height);if("auto"==j.width)j.width=f.width();if("auto"==j.height)j.height=f.height();K()},K=function(){var g,P;h.hide();if(d.is(":visible")&&!1===l.onCleanup(v,q,l))a.event.trigger("fancybox-cancel"),s=!1;else{s=!0;a(k.add(b)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");d.is(":visible")&&"outside"!==l.titlePosition&&
d.css("height",d.height());v=i;q=p;l=j;if(l.overlayShow){if(b.css({"background-color":l.overlayColor,opacity:l.overlayOpacity,cursor:l.hideOnOverlayClick?"pointer":"auto",height:a(document).height()}),!b.is(":visible")){if(D)a("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});b.show()}}else b.hide();k.get(0).scrollTop=0;k.get(0).scrollLeft=0;t=Q();x=l.title||
"";z=0;c.empty().removeAttr("style").removeClass();if(!1!==l.titleShow&&(x=a.isFunction(l.titleFormat)?l.titleFormat(x,v,q,l):x&&x.length?"float"==l.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+x+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+l.titlePosition+'">'+x+"</div>":!1)&&""!==x)switch(c.addClass("fancybox-title-"+l.titlePosition).html(x).appendTo("body").show(),
l.titlePosition){case "inside":c.css({width:t.width-2*l.padding,marginLeft:l.padding,marginRight:l.padding});z=c.outerHeight(!0);c.appendTo(n);t.height+=z;break;case "over":c.css({marginLeft:l.padding,width:t.width-2*l.padding,bottom:l.padding}).appendTo(n);break;case "float":c.css("left",-1*parseInt((c.width()-t.width-40)/2,10)).appendTo(d);break;default:c.css({width:t.width-2*l.padding,paddingLeft:l.padding,paddingRight:l.padding}).appendTo(d)}c.hide();if(d.is(":visible"))a(o.add(e).add(m)).hide(),
g=d.position(),w={top:g.top,left:g.left,width:d.width(),height:d.height()},P=w.width==t.width&&w.height==t.height,k.fadeTo(l.changeFade,0.3,function(){var b=function(){k.html(f.contents()).fadeTo(l.changeFade,1,L)};a.event.trigger("fancybox-change");k.empty().removeAttr("filter").css({"border-width":l.padding,width:t.width-2*l.padding,height:"image"==l.type||"swf"==l.type||"iframe"==l.type?t.height-z-2*l.padding:"auto"});P?b():(A.prop=0,a(A).animate({prop:1},{duration:l.changeSpeed,easing:l.easingChange,
step:M,complete:b}))});else if(d.removeAttr("style"),k.css("border-width",l.padding),"elastic"==l.transitionIn){w=O();k.html(f.contents());d.show();if(l.opacity)t.opacity=0;A.prop=0;a(A).animate({prop:1},{duration:l.speedIn,easing:l.easingIn,step:M,complete:L})}else"inside"==l.titlePosition&&0<z&&c.show(),k.css({width:t.width-2*l.padding,height:"image"==l.type||"swf"==l.type||"iframe"==l.type?t.height-z-2*l.padding:"auto"}).html(f.contents()),d.css(t).fadeIn("none"==l.transitionIn?0:l.fadeIn,L)}},
C=function(){(l.enableEscapeButton||l.enableKeyboardNav)&&a(document).bind("keydown.fb",function(b){if(27==b.keyCode&&l.enableEscapeButton)b.preventDefault(),a.fancybox.close();else if((37==b.keyCode||39==b.keyCode)&&l.enableKeyboardNav&&"INPUT"!==b.target.tagName&&"TEXTAREA"!==b.target.tagName&&"SELECT"!==b.target.tagName)b.preventDefault(),a.fancybox[37==b.keyCode?"prev":"next"]()});l.showNavArrows?((l.cyclic&&1<v.length||0!==q)&&e.show(),(l.cyclic&&1<v.length||q!=v.length-1)&&m.show()):(e.hide(),
m.hide())},L=function(){a.support.opacity||(k.get(0).style.removeAttribute("filter"),d.get(0).style.removeAttribute("filter"));d.css("height","auto");"image"!==l.type&&"swf"!==l.type&&"iframe"!==l.type&&k.css("height","auto");x&&x.length&&c.show();l.showCloseButton&&o.show();C();l.hideOnContentClick&&k.bind("click",a.fancybox.close);l.hideOnOverlayClick&&b.bind("click",a.fancybox.close);a(window).bind("resize.fb",a.fancybox.resize);l.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center);"iframe"==
l.type&&a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+' scrolling="'+j.scrolling+'" src="'+l.href+'"></iframe>').appendTo(k);d.show();s=!1;a.fancybox.center();l.onComplete(v,q,l);var e,f;if(v.length-1>q&&(e=v[q+1].href,"undefined"!==typeof e&&e.match(G)))f=new Image,f.src=e;if(0<q&&(e=v[q-1].href,"undefined"!==typeof e&&e.match(G)))f=new Image,f.src=e},M=function(a){var b={width:parseInt(w.width+
(t.width-w.width)*a,10),height:parseInt(w.height+(t.height-w.height)*a,10),top:parseInt(w.top+(t.top-w.top)*a,10),left:parseInt(w.left+(t.left-w.left)*a,10)};if("undefined"!==typeof t.opacity)b.opacity=0.5>a?0.5:a;d.css(b);k.css({width:b.width-2*l.padding,height:b.height-z*a-2*l.padding})},N=function(){return[a(window).width()-2*l.margin,a(window).height()-2*l.margin,a(document).scrollLeft()+l.margin,a(document).scrollTop()+l.margin]},Q=function(){var a=N(),b={},c=l.autoScale,d=2*l.padding;b.width=
-1<l.width.toString().indexOf("%")?parseInt(a[0]*parseFloat(l.width)/100,10):l.width+d;b.height=-1<l.height.toString().indexOf("%")?parseInt(a[1]*parseFloat(l.height)/100,10):l.height+d;if(c&&(b.width>a[0]||b.height>a[1]))if("image"==j.type||"swf"==j.type){c=l.width/l.height;if(b.width>a[0])b.width=a[0],b.height=parseInt((b.width-d)/c+d,10);if(b.height>a[1])b.height=a[1],b.width=parseInt((b.height-d)*c+d,10)}else b.width=Math.min(b.width,a[0]),b.height=Math.min(b.height,a[1]);b.top=parseInt(Math.max(a[3]-
20,a[3]+0.5*(a[1]-b.height-40)),10);b.left=parseInt(Math.max(a[2]-20,a[2]+0.5*(a[0]-b.width-40)),10);return b},O=function(){var b=j.orig?a(j.orig):!1,c={};b&&b.length?(c=b.offset(),c.top+=parseInt(b.css("paddingTop"),10)||0,c.left+=parseInt(b.css("paddingLeft"),10)||0,c.top+=parseInt(b.css("border-top-width"),10)||0,c.left+=parseInt(b.css("border-left-width"),10)||0,c.width=b.width(),c.height=b.height(),c={width:c.width+2*l.padding,height:c.height+2*l.padding,top:c.top-l.padding-20,left:c.left-l.padding-
20}):(b=N(),c={width:2*l.padding,height:2*l.padding,top:parseInt(b[3]+0.5*b[1],10),left:parseInt(b[2]+0.5*b[0],10)});return c},R=function(){h.is(":visible")?(a("div",h).css("top",-40*u+"px"),u=(u+1)%12):clearInterval(g)};a.fn.fancybox=function(b){if(!a(this).length)return this;a(this).data("fancybox",a.extend({},b,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(b){b.preventDefault();s||(s=!0,a(this).blur(),i=[],p=0,b=a(this).attr("rel")||"",!b||""==b||"nofollow"===b?
i.push(this):(i=a("a[rel="+b+"], area[rel="+b+"]"),p=i.index(this)),E())});return this};a.fancybox=function(b,c){var d;if(!s){s=!0;d="undefined"!==typeof c?c:{};i=[];p=parseInt(d.index,10)||0;if(a.isArray(b)){for(var e=0,f=b.length;e<f;e++)"object"==typeof b[e]?a(b[e]).data("fancybox",a.extend({},d,b[e])):b[e]=a({}).data("fancybox",a.extend({content:b[e]},d));i=jQuery.merge(i,b)}else"object"==typeof b?a(b).data("fancybox",a.extend({},d,b)):b=a({}).data("fancybox",a.extend({content:b},d)),i.push(b);
if(p>i.length||0>p)p=0;E()}};a.fancybox.showActivity=function(){clearInterval(g);h.show();g=setInterval(R,66)};a.fancybox.hideActivity=function(){h.hide()};a.fancybox.next=function(){return a.fancybox.pos(q+1)};a.fancybox.prev=function(){return a.fancybox.pos(q-1)};a.fancybox.pos=function(a){s||(a=parseInt(a),i=v,-1<a&&a<v.length?(p=a,E()):l.cyclic&&1<v.length&&(p=a>=v.length?0:v.length-1,E()))};a.fancybox.cancel=function(){s||(s=!0,a.event.trigger("fancybox-cancel"),I(),j.onCancel(i,p,j),s=!1)};
a.fancybox.close=function(){function f(){b.fadeOut("fast");c.empty().hide();d.hide();a.event.trigger("fancybox-cleanup");k.empty();l.onClosed(v,q,l);v=j=[];q=p=0;l=j={};s=!1}if(!s&&!d.is(":hidden"))if(s=!0,l&&!1===l.onCleanup(v,q,l))s=!1;else if(I(),a(o.add(e).add(m)).hide(),a(k.add(b)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),k.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==l.titlePosition&&
c.empty(),d.stop(),"elastic"==l.transitionOut){w=O();var g=d.position();t={top:g.top,left:g.left,width:d.width(),height:d.height()};if(l.opacity)t.opacity=1;c.empty().hide();A.prop=1;a(A).animate({prop:0},{duration:l.speedOut,easing:l.easingOut,step:M,complete:f})}else d.fadeOut("none"==l.transitionOut?0:l.speedOut,f)};a.fancybox.resize=function(){b.is(":visible")&&b.css("height",a(document).height());a.fancybox.center(!0)};a.fancybox.center=function(a){var b,c;if(!s&&(c=!0===a?1:0,b=N(),c||!(d.width()>
b[0]||d.height()>b[1])))d.stop().animate({top:parseInt(Math.max(b[3]-20,b[3]+0.5*(b[1]-k.height()-40)-l.padding)),left:parseInt(Math.max(b[2]-20,b[2]+0.5*(b[0]-k.width()-40)-l.padding))},"number"==typeof a?a:200)};a.fancybox.init=function(){a("#fancybox-wrap").length||(a("body").append(f=a('<div id="fancybox-tmp"></div>'),h=a('<div id="fancybox-loading"><div></div></div>'),b=a('<div id="fancybox-overlay"></div>'),d=a('<div id="fancybox-wrap"></div>')),n=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(d),
n.append(k=a('<div id="fancybox-content"></div>'),o=a('<a id="fancybox-close"></a>'),c=a('<div id="fancybox-title"></div>'),e=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),m=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),o.click(a.fancybox.close),h.click(a.fancybox.cancel),e.click(function(b){b.preventDefault();a.fancybox.prev()}),m.click(function(b){b.preventDefault();a.fancybox.next()}),
a.fn.mousewheel&&d.bind("mousewheel.fb",function(b,c){b.preventDefault();a.fancybox[0<c?"prev":"next"]()}),a.support.opacity||d.addClass("fancybox-ie"),D&&(h.addClass("fancybox-ie6"),d.addClass("fancybox-ie6"),a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(n)))};a.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,
scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,
onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery);

//# sourceMappingURL=/site_media/bundle/universal.min.js.map
